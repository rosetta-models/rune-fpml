namespace fpml.consolidated.loan : < "fpml definition" >
version "${project.version}"

type DelayedDraw extends AbstractFacility: <"A revolver facility. A facility which can be drawn at any point during a pre-defined period after the initial deal closing date,">

    delayedDraw boolean (1..1) <"A flag to determine whether the Term Loan has a delayed draw feature.">
    mustDrawByDate zonedDateTime (0..1) <"The date by which funds must be drawn.">

type LetterOfCreditFacility extends AbstractFacility: <"A letter of credit facility. A facility designed to issue letter of credit products.">

type Revolver extends AbstractFacility: <"A revolver facility. A facility which allows a flexible line of credit which can be drawn and repaid multiple times over the life of the facility.">

type TermLoan extends AbstractFacility: <"A term loan facility. A facility which is fully funded (utilized) at deal closing.">

type AccrualOptionChange extends AbstractFacilityEvent: <"An event describing a change to an accrual option associated with a specific facility.">

    accrualOptionChangeSequence0 AccrualOptionChangeSequence0 (0..1)
    accruingPikOption AccruingPikOption (0..1) <"A structure that represents the accruing PIK option associated within a facility.">
    accrualOptionChangeSequence1 AccrualOptionChangeSequence1 (0..1)

type AccruingFeeChange extends AbstractFacilityEvent: <"An event describing a future change to an accruing fee associated with a specific facility.">

    accruingFeeOption AccruingFeeOption (1..1) <"Defines new rate and the date on which the rate is no longer valid.">

type AccruingFeeExpiry extends AbstractFacilityEvent: <"An event describing a future expiry of one of the accruing fees associated with a specific facility.">

    id AccrualTypeId (1..1) <"A unique id associated with the loan accrual type.">
    ^type AccruingFeeType (1..1) <"The accruing fee type which is expiring.">

type AccruingFeePayment extends AbstractFacilityEvent: <"An event describing an accruing fee payment made at the facility level.">

    id AccrualTypeId (1..1) <"A unique id associated with the loan accrual type.">
    periodModel fpml.consolidated.shared.PeriodModel (1..1)
    amount MoneyWithParticipantShare (1..1)
    accruingFeePaymentSequence AccruingFeePaymentSequence (0..1)

type AccruingPikPayment extends AbstractFacilityEvent: <"An event representing a payment to facilitate capitalization of interest on all outstanding contracts against a particular facility.">

    periodModel fpml.consolidated.shared.PeriodModel (1..1)
    amount MoneyWithParticipantShare (1..1)
    accrualSchedule AccrualPeriod (0..*) <"A schedule that incorporates all sub-periods of an accrual calculation.">

type AmendmentFeePayment extends AbstractFacilityPaymentEvent: <"A fee charged to the borrower for an amendment being made to the originally agreed credit agreement. The fee is based on a rate (as stated in the agreement) applied to the current commitment level. Calculated as a percentage of the unutilized portion of the facility.">

type CommitmentAdjustment extends AbstractFacilityEvent: <"An event defining a future change in facility commitment.">

    refusalAllowed boolean (1..1) <"Defines whether the lender has an option to accept or deny the commitment change.">
    scheduled boolean (1..1) <"Defines whether the commitment adjustment is scheduled.">
    pik boolean (1..1) <"Defines whether the commitment adjustment is related to a PIK.">
    facilityCommitment FacilityCommitment (1..1) <"The global/lender commitment amount stated AFTER a commitment adjustment has taken place.">
    adjustment Adjustment (1..1) <"Defines the type of adjustment applied - increase or decrease.">
    commitmentSchedule CommitmentSchedule (0..1) <"The amortization schedule associated with the facility commitment.">

type DefaultRateChange extends AbstractFacilityRateChangeEvent: <"An event representing a change in the default rate, applicable to outstanding loans in the event that the borrower is declared to be in default.">

type DefaultRateExpiry extends AbstractFacilityContractEvent: <"An event representing expiration of the default rate applicable to borrowers in default.">

type FacilityExtensionFeePayment extends AbstractFacilityPaymentEvent: <"This fee represents any fee paid by the borrower to the syndicate lenders for extending an existing facility.">

type FacilityPrepayment extends AbstractFacilityEvent: <"A structure that represents the prepayment structure associated within a facility.">

    amount MoneyWithParticipantShare (1..1) <"The amount of the prepayment.">

type FacilityPrepaymentFeePayment extends AbstractFacilityEvent: <"A structure that represents the payment of a facility prepayment fee.">

    amount MoneyWithParticipantShare (1..1) <"A structure representing a facility prepayment fee being made by the borrower.">

type FacilityTermination extends AbstractFacilityEvent: <"An event describing the early termination of a facility.">

type FundingFeePayment extends AbstractFacilityPaymentEvent: <"A fee associated with the funding requirements for given facility.">

type MandatoryCostRateChange extends AbstractFacilityRateChangeEvent: <"An event representing a change in the mandatory cost rate, applicable to certain outstanding loans in the UK market.">

type MandatoryCostRateExpiry extends AbstractFacilityContractEvent: <"An event representing expiration of the mandatory cost rate applicable in the UK market.">

type MiscFeePayment extends AbstractFacilityPaymentEvent: <"An event describing a misc (one-off) fee being paid at either the loan contract or facility level.">

    ^type MiscFeeType (0..1) <"The misc fee type, based on a scheme.">
    description fpml.consolidated.shared.NonEmptyNormalizedString (0..1) <"A description of the misc fee.">

type PenaltyRateChange extends AbstractFacilityRateChangeEvent: <"An event representing a change in the penalty rate applicable to outstanding loans.">

type PenaltyRateExpiry extends AbstractFacilityContractEvent: <"An event representing expiration of the penalty rate.">

type UpfrontFeePayment extends AbstractFacilityPaymentEvent: <"A structure that represents a fee, also known as Participation Fee, Arrangement Fee etc. This fee represents compensation to the members of the lending syndicate (and sometimes to institutional investors as well) in return for their commitment of capital.">

type WaiverFeePayment extends AbstractFacilityPaymentEvent: <"A fee structure that represents a payment made by the borrower to the syndicate lenders for processing and accepting a waiver request. The request is sent by the borrower to obtain approval from the syndicate lenders formally requesting waivers around particular terms of the credit agreement.">

type LoanContractAdjustment extends AbstractLoanContractEvent: <"An event representing adjustment in the notional amount of a loan contract that has no cash flow effect. E.g. an amount adjustment due to a defaulted loan.">

    adjustment Adjustment (1..1) <"Defines the type of adjustment applied - increase or decrease.">
    amount MoneyWithParticipantShare (1..1)

type BaseRateSet extends LoanContractBaseRateSet:

type Borrowing extends AbstractLoanContractEvent: <"An event representing a principal borrowing is being requested by the borrower.">

    amount MoneyWithParticipantShare (1..1)
    conditionsPrecedentMet fpml.consolidated.fpmlenum.ConditionsPrecedentMetEnum (0..1) <"An enumeration which describes whether the conditions precedent have been met, not met or been waived. Please note: this field in not required since conditions precedent may not be applicable in certain scenarios.">

type BreakageFeePayment extends AbstractLoanContractPaymentEvent: <"A fee calculated as the cost of breaking financing against a loan contract which is repaid early.">

    breakageFeeClaimDate zonedDateTime (0..1) <"The date by which any breakage costs (if applicable) must be submitted by Lenders to the Agent.">
    breakageFeeCalculatedBy fpml.consolidated.fpmlenum.BreakageCalculatedByEnum (0..1) <"Where breakage cost is applicable, this enumeration defines who is calculating it - agent bank or lender.">

type InterestCapitalization extends AbstractLoanContractEvent: <"An event representing the capitalization of interest amounts for a given accrual period against a single loan contract.">

    periodModel fpml.consolidated.shared.PeriodModel (1..1)
    calculationMethod fpml.consolidated.fpmlenum.InterestCalculationMethodEnum (1..1) <"Defines the way in which the agent bank is allocating cash/PIK interest - can be (i) pro-rata at the time of the interest payment/PIK or (ii) based on the loan contract share throughout the interest period (which is the preferred method).">
    amount MoneyWithParticipantShare (1..1)
    interestCapitalizationSequence InterestCapitalizationSequence (0..1)

type InterestPayment extends LoanInterestPayment:

type LegacyInterestCapitalization extends AbstractLoanContractEvent: <"An event representing the legacy version (pre-IBOR replacement) of the capitalization of interest amounts for a given accrual period against a single loan contract.">

    periodModel fpml.consolidated.shared.PeriodModel (1..1)
    calculationMethod fpml.consolidated.fpmlenum.InterestCalculationMethodEnum (1..1) <"Defines the way in which the agent bank is allocating cash/PIK interest - can be (i) pro-rata at the time of the interest payment/PIK or (ii) based on the loan contract share throughout the interest period (which is the preferred method).">
    amount MoneyWithParticipantShare (1..1)
    legacyInterestCapitalizationSequence LegacyInterestCapitalizationSequence (0..1)

type LegacyInterestPayment extends LegacyLoanInterestPayment:

type MaturityChange extends LoanContractMaturityChange:

type Repayment extends AbstractLoanContractEvent: <"An event representing a principal repayment being made by the borrower.">

    amount MoneyWithParticipantShare (1..1)
    price fpml.consolidated.shared.NonNegativeDecimal (0..1) <"The price at which the repayment occurred. This is usually Par but there could be scenarios where a repayment was made at a discounted level.">
    repaymentTypeModel RepaymentTypeModel (1..1)

type Rollover extends AbstractLoanServicingEvent: <"An event representing the prepayment structure associated within a facility.">

    currentContracts LoanContractsReference (1..1) <"A list of references to all contracts whose rates are resetting or that are terminating as part of a rollover event.">
    newContracts LoanContractList (1..1) <"A list of all contracts whose rates are resetting or that are initiating as part of the rollover event.">

type LcAdjustment extends AbstractLcEvent: <"An event representing a change in the notional amount associated with an outstanding letter of credit.">

    adjustment Adjustment (1..1) <"Defines the type of adjustment applied - increase or decrease.">
    amount MoneyWithParticipantShare (1..1) <"The letter of credit amount after the adjustment has been applied.">
    relatedBorrowing boolean (1..1) <"Set to false for a normal increase or decrease in the letter of credit amount. If set to true, it signifies that a loan borrowing will take place in conjunction with this business event.">

type LcFxRevaluation extends AbstractLcEvent: <"An event representing a change in either the L/C to Facility or L/C to Accrual FX rates (or both) on an outstanding letter of credit.">

    lcFxRate FxTerms (0..1) <"Defines exchange rate between the letter of credit accrual and letter of credit currencies.">
    facilityFxRate FxTerms (0..1) <"Defines exchange rate between the letter of credit and facility.">

type LcIssuance extends AbstractLcEvent: <"An event representing the issuance of a new letter of credit under an existing facility.">

    amount MoneyWithParticipantShare (1..1) <"The letter of credit notional amount.">

type LcIssuanceFeePayment extends AbstractLcEvent: <"An event representing a letter of credit issuance fee payment.">

    id AccrualTypeId (1..1) <"A unique id associated with the loan accrual type.">
    periodModel fpml.consolidated.shared.PeriodModel (1..1)
    amount MoneyWithParticipantShare (1..1)
    accrualSchedule AccrualPeriod (0..*) <"A schedule that incorporates all sub-periods of an accrual calculation.">

type LcRateChange extends AbstractLcEvent: <"An event representing a change in the rate on an outstanding letter of credit.">

    rate number (1..1)

type LcRenewal extends AbstractLcEvent: <"An event representing a change in the maturity date on an outstanding letter of credit.">

    finalExpiryDate zonedDateTime (1..1) <"The final letter of credit expiry date (as defined by the evergreen option).">
    maturityDate zonedDateTime (0..1) <"The original maturity date of the letter of credit.">

type LcTermination extends AbstractLcEvent: <"An event representing either the expiry or cancellation of a letter of credit">

    expiry boolean (1..1) <"Determines whether this event was created due to a natural expiration of the letter of credit or an unscheduled cancellation.">

type LoanTrade extends LoanTradeEvent:

type LoanTradeConfirmation extends LoanTradeEvent:

type LoanTradeFeeDue extends LoanTradeTransferFeeDue:

type LoanTradeFeeOwed extends LoanTradeTransferFeeOwed:

type LoanAllocation extends LoanAllocationEvent:

type LoanAllocationConfirmation extends LoanAllocationEvent:

type LoanAllocationSettlement extends AbstractLoanAllocationSettlementEvent: <"An event structure defining the counterparty-to-counterparty trade settlement details.">

    loanAllocationSettlementSequence LoanAllocationSettlementSequence (0..1)

type LoanAllocationFeeDue extends LoanAllocationTransferFeeDue:

type LoanAllocationFeeOwed extends LoanAllocationTransferFeeOwed:

type LoanAllocationSettlementDateAvailability extends AbstractLoanAllocationEvent: <"An event structure defining information related to trade settlement date coordination.">

    specificDates fpml.consolidated.shared.DateList (0..1) <"Specific date or dates on which a trade may be settled.">
    periodModel fpml.consolidated.shared.PeriodModel (0..1)
    onOrAfterDate zonedDateTime (0..1) <"Date on or after which a trade can be settled.">
    loanAllocationSettlementDateAvailabilitySequence LoanAllocationSettlementDateAvailabilitySequence (0..1)
    noSettlePeriod LoanAllocationNoSettlePeriod (0..*) <"A period during which no settlement of a trade can occur, other than non-business days.">

type LoanAllocationSettlementDateFinalization extends AbstractLoanAllocationEvent: <"An event structure defining the trade settlement date.">

    settlementDate zonedDateTime (1..1) <"The settlement date associated with a single loan trade allocation.">

type LoanBulkServicingNotification extends AbstractContractNotification: <"A loan servicing notification used to communicate multiple business events, within a single notification.">
    [rootType]

    loanBulkServicingNotificationChoice LoanBulkServicingNotificationChoice (2..*)
    loanBulkServicingNotificationSequence LoanBulkServicingNotificationSequence (1..*)
    party fpml.consolidated.shared.Party (1..*) <"A legal entity or a subdivision of a legal entity.">

type LoanNotificationAcknowledgement extends LoanAcknowledgement: <"A message used to acknowledge a loan notification.">
    [rootType]

    loanIdentifiersModel LoanIdentifiersModel (1..1)

type LoanNotificationException extends fpml.consolidated.msg.Exception: <"A message used to indicate an exception issue with a loan notification.">
    [rootType]

    loanNotificationExceptionSequence LoanNotificationExceptionSequence (0..1)

type LoanNotificationRetracted extends fpml.consolidated.msg.NonCorrectableRequestMessage: <"A message used to indicate a retraction of a loan notification.">
    [rootType]

    loanIdentifiersModel LoanIdentifiersModel (1..1)
    party fpml.consolidated.shared.Party (1..1)
    originalMessage fpml.consolidated.doc.UnprocessedElementWrapper (0..1)

type LoanPartyProfileStatement extends AbstractLoanPartyProfileStatement: <"A profile generated and communicated by parties containing their relevant contact and payment details. This is communicated by parties to anyone who wishes to initiate payments and/or communicate with them.">
    [rootType]

    partyProfile PartyProfile (1..1)
    party fpml.consolidated.shared.Party (1..*)

type LoanCovenantObligationNotification extends AbstractServicingNotification: <"A loan notification used to convey servicing details related to a covenant obligation.">
    [rootType]

    covenantTask LoanCovenantObligationTask (1..*)
    dealDetailsModel DealDetailsModel (0..*)
    covenantObligationDetailsModel CovenantObligationDetailsModel (1..*)
    facilityDetailsModel FacilityDetailsModel (0..*)
    party fpml.consolidated.shared.Party (1..*) <"A legal entity or a subdivision of a legal entity.">

type FacilityNotification extends AbstractFacilityNotification: <"A loan servicing notification which can be used to communicate any facility-level business event.">
    [rootType]

    facilityEventGroup AbstractFacilityEvent (1..1)
    dealDetailsModel DealDetailsModel (0..1)
    facilityDetailsModel FacilityDetailsModel (1..1)
    loanContractDetailsModel LoanContractDetailsModel (0..*)
    letterOfCreditDetailsModel LetterOfCreditDetailsModel (0..*)
    party fpml.consolidated.shared.Party (1..*) <"A legal entity or a subdivision of a legal entity.">

type LcNotification extends AbstractContractNotification: <"A loan servicing notification used to communicate various letter of credit business events.">
    [rootType]

    lcEventGroup AbstractLcEvent (1..1)
    dealDetailsModel DealDetailsModel (0..1)
    facilityDetailsModel FacilityDetailsModel (1..1)
    letterOfCreditDetailsModel LetterOfCreditDetailsModel (1..1)
    party fpml.consolidated.shared.Party (1..*) <"A legal entity or a subdivision of a legal entity.">

type LoanContractNotification extends AbstractContractNotification: <"A loan servicing notification used to communicate various loan contract business events.">
    [rootType]

    loanContractEventGroup AbstractLoanServicingEvent (1..1)
    dealDetailsModel DealDetailsModel (0..1)
    facilityDetailsModel FacilityDetailsModel (1..1)
    loanContractDetailsModel LoanContractDetailsModel (1..*)
    party fpml.consolidated.shared.Party (1..*) <"A legal entity or a subdivision of a legal entity.">

type LoanLegalActionNotification extends AbstractServicingNotification: <"A loan servicing notification which can be used to communicate any legal action-related servicing event.">
    [rootType]

    loanLegalActionNotificationChoice0 LoanLegalActionNotificationChoice0 (1..*)
    legalActionIdentifier LegalActionIdentifier (0..1)
    legalActionSummary LoanLegalActionSummary (0..1)
    legalAction LoanLegalAction (0..1)
    loanLegalActionNotificationChoice1 LoanLegalActionNotificationChoice1 (0..*)
    party fpml.consolidated.shared.Party (0..*) <"A legal entity or a subdivision of a legal entity.">

type LoanAllocationNotification extends AbstractLoanAllocationNotification: <"A loan servicing notification used to communicate trade allocation details, from counterparty to counterparty, or counterparty to admin agent.">
    [rootType]

    loanAllocationNotificationChoice0 LoanAllocationNotificationChoice0 (1..*)
    loanTradeAllocationDetailsModel LoanTradeAllocationDetailsModel (1..1)
    dealDetailsModel DealDetailsModel (0..1)
    facilityDetailsModel FacilityDetailsModel (1..1)
    loanAllocationNotificationChoice1 LoanAllocationNotificationChoice1 (0..*)
    party fpml.consolidated.shared.Party (1..*) <"A legal entity or a subdivision of a legal entity.">

type LoanTradeNotification extends AbstractLoanTradeNotification: <"A loan servicing notification used to communicate details to establish a master trade, from counterparty to counterparty.">
    [rootType]

    loanTradeEventGroup AbstractLoanTradeEvent (0..1)
    settlementTask LoanTradeSettlementTask (0..1)
    loanTradeDetailsModel LoanTradeDetailsModel (1..1)
    dealDetailsModel DealDetailsModel (0..1)
    facilityDetailsModel FacilityDetailsModel (1..1)
    party fpml.consolidated.shared.Party (1..*) <"A legal entity or a subdivision of a legal entity.">

type DealStatement extends AbstractLoanStatement: <"A full set of deal and facility definitions valid as of a specific date.">
    [rootType]

    deal Deal (1..1) <"A complete deal structure.">
    dealDetailsModel DealDetailsModel (0..*)
    covenantObligationDetailsModel CovenantObligationDetailsModel (0..*)
    facilityDetailsModel FacilityDetailsModel (0..*)
    party fpml.consolidated.shared.Party (1..*) <"A legal entity or a subdivision of a legal entity.">

type FacilityStatement extends AbstractLoanStatement: <"A single facility definition stated as of a certain date.">
    [rootType]

    facilityGroup AbstractFacility (1..1)
    dealDetailsModel DealDetailsModel (0..1)
    party fpml.consolidated.shared.Party (0..*) <"A legal entity or a subdivision of a legal entity.">

type FacilityPositionStatement extends AbstractLoanStatement: <"A statement containing the commitment amounts for a single facility at the global and (optionally) the lender postion levels, on a specific date.">
    [rootType]

    facilityPosition FacilityPosition (1..1) <"Commitment position details for a single facility. Positions can be stated at the global and (optionally) at the lender-specific level.">
    positionPartyReference fpml.consolidated.shared.PartyReference (1..1) <"A reference to the party for whom positions are being reported (if applicable position amounts are populated).">
    dealDetailsModel DealDetailsModel (0..1)
    facilityDetailsModel FacilityDetailsModel (1..1)
    loanContractDetailsModel LoanContractDetailsModel (0..*)
    party fpml.consolidated.shared.Party (0..*) <"A legal entity or a subdivision of a legal entity.">

type LoanLegalActionStatement extends AbstractLoanStatement: <"A loan legal action statement structure.">
    [rootType]

    legalAction LoanLegalAction (1..1) <"A complete legal action structure.">
    dealDetailsModel DealDetailsModel (0..1)
    deal Deal (0..1) <"A complete deal structure.">
    loanLegalActionStatementChoice LoanLegalActionStatementChoice (0..*)
    loanContractDetailsModel LoanContractDetailsModel (0..*)
    letterOfCreditDetailsModel LetterOfCreditDetailsModel (0..*)
    party fpml.consolidated.shared.Party (0..*) <"A legal entity or a subdivision of a legal entity.">

type OutstandingContractsStatement extends AbstractLoanStatement: <"A collection of outstanding loan contract and/or letter of credit structures belonging to a single facility.">
    [rootType]

    dealDetailsModel DealDetailsModel (0..1)
    facilityIdentifier FacilityIdentifier (1..1) <"The facility to which the loan contracts and/or letter of credits belong.">
    outstandingContractsStatementChoice OutstandingContractsStatementChoice (1..*)
    party fpml.consolidated.shared.Party (0..*) <"A legal entity or a subdivision of a legal entity.">

type AbstractApplicablePartyProfileObjects: <"An abstract base type that combines objects applicable to the description of a party profile (e.g. applicable assets and cash events to specific contacts or settlement instructions).">

    identifier AssociationToAssetIdentifier (1..1)
    applicableAssets ApplicableAssets (1..1) <"A structure which describes the applicable assets.">
    applicableTransactions ApplicableTransactions (1..1) <"A structure that defines specific servicing transactions that a particular payment profile may be associated with.">

type AbstractApproval: <"A abstract type to describe an approval.">

    effectiveDate zonedDateTime (0..1) <"The effective date of the approval status details.">
    approvalVotes ApprovalVotes (1..1) <"A structure to describe the approval votes, expressed as a percentage as well as a commitment with optional list of votes by voters.">
    finalApprovalDate zonedDateTime (0..1) <"A structure to describe the date on which the approval is finalized.">
    id string (0..1)

type AbstractContractNotification extends AbstractServicingNotification: <"An extension of the AbstractServicingNotification which includes a reference to the facility and the loan contract to which embedded loan events apply. This abtract type should be used to \'wrap\' contract-level business events.">

    facilityPosition FacilityPosition (0..*)

type AbstractFacility extends FacilitySummary: <"An abstract type defining a facility baseline structure.">

    governingLaw fpml.consolidated.shared.GoverningLaw (0..1) <"Defines the governing law (jurisdiction) under which the facility operates.">
    facilityFeaturesModel FacilityFeaturesModel (1..1)
    facilityOptionsFeesAndRatesModel FacilityOptionsFeesAndRatesModel (1..1)
    multiCurrency MultiCurrency (0..1) <"A container to denote whether funds may be drawn in multiple currency denominations, in addition to the base (facility) currency. The current commitment amount defines the base currency associated with the facility.">

type AbstractFacilityContractEvent extends AbstractFacilityEvent: <"An abstract base type for all facility and optionally contract-level business events.">

    loanContractReference LoanContractReference (0..*) <"A loan contract reference structure.">

type AbstractFacilityEvent extends AbstractLoanServicingEvent: <"An abstract base type for all facility-level business events.">

    facilityReference FacilityReference (1..1) <"Reference to a facility.">

type AbstractFacilityPaymentEvent extends AbstractFacilityEvent: <"An event describing a fee being paid at either the loan contract or facility level.">

    amount MoneyWithParticipantShare (1..1)

type AbstractFacilityNotification extends AbstractServicingNotification: <"An extension of the AbstractServicingNotification which includes a reference to the facility to which embedded loan events apply. This abtract type should be used to \'wrap\' facility-level business events.">

    facilityPosition FacilityPosition (0..1)

type AbstractFixedRateOptionBase extends AbstractAccrualOptionBase: <"An abstract type that specifies an underlying fixed rate cash accrual option.">

    rate number (1..1)
    pikSpread number (0..1)

type AbstractLoanFloatingRateOptionBase extends AbstractAccrualOptionBase: <"An abstract type that specifies an underlying floating rate cash accrual option.">

    rate LoanFloatingRate (1..1) <"Defines the rate option.">

type AbstractFacilityRateChangeEvent extends AbstractFacilityContractEvent: <"An abstract type describing changes in a facility-level rate.">

    rate PeriodRate (1..1) <"This represents a \'surcharge\' rate that may apply in addition to a regular margin (on outstanding loan contracts).">

type AbstractLcEvent extends AbstractLoanServicingEvent: <"An abstract base type for all LC-level business events.">

    letterOfCreditReference LetterOfCreditReference (1..1)

type AbstractLegacyFloatingRateOptionBase extends AbstractLegacyAccrualOptionBase: <"An abstract type that specifies an underlying floating rate cash accrual option.">

    legacyFloatingRateIndexLoanModel LegacyFloatingRateIndexLoanModel (1..1)
    spread number (1..1)
    pikSpread number (0..1)

type AbstractLoanAllocationEvent extends AbstractLoanEvent: <"An abstract structure defining fundamental allocation event information.">

    allocationReference LoanAllocationReference (1..1) <"A reference to an allocation.">

type AbstractLoanAllocationNotification extends fpml.consolidated.msg.CorrectableRequestMessage: <"An underlying abstract structure for all syndicated loan trade allocation notifications; the wrapper for events which occur through the life-cycle of a loan allocation.">

    noticeDate zonedDateTime (1..1) <"The business date on which the notice is valid (and was communicated).">
    partyReference fpml.consolidated.shared.PartyReference (1..1) <"The party sending the notification.">
    role LoanTradingPartyRole (1..1) <"The role of the party that is sending the notification.">
    payment LoanAllocationPayment (0..*) <"This structure should NOT be used for LoanTradeNotification as there are no allocation objects that can be referenced within the notification structure.">

type AbstractLoanAllocationSettlementEvent extends AbstractLoanAllocationEvent: <"An abstract structure defining fundamental settlement event information.">

    settlementDate zonedDateTime (1..1) <"Date on which settlement will occur.">
    allocationAmount fpml.consolidated.shared.NonNegativeMoney (1..1) <"The amount settled.">
    facilityPosition FacilityPosition (1..1) <"One or more accrual periods which reflect the constituent portions of the accrual amount.">

type AbstractLoanContractEvent extends AbstractLoanServicingEvent: <"An abstract base type for all loan contract-level business events.">

    loanContractReference LoanContractReference (1..1) <"Reference to a loan contract.">

type AbstractLoanContractPaymentEvent extends AbstractLoanContractEvent: <"An abstract base type for all loan contract-level fee payment events.">

    amount MoneyWithParticipantShare (1..1)

type AbstractLoanCovenantObligation extends LoanCovenantObligationSummary: <"An abstract type defining a loan covenant obligation baseline structure.">

type AbstractLoanEvent: <"An abstract base type defining common features of a syndicated loan business event.">

    eventIdentifier fpml.consolidated.business.events.BusinessEventIdentifier (1..*)
    abstractLoanEventSequence AbstractLoanEventSequence (0..1)
    lenderAndCashDetailsModel LenderAndCashDetailsModel (0..1)
    comment fpml.consolidated.shared.NonEmptyString (0..1) <"A freetext field which allows the sender to add further details around the business event.">

type AbstractLoanEventSequence:

    parentEventIdentifier ParentEventIdentifier (0..1) <"A structure used to relate child events to one another, with an overarching parent identifier. The parent identifier does not itself represent an event, but rather provides a mechanism to describe all related. The event described by this message should be included as a child event in this structure.">
    previousEventIdentifier fpml.consolidated.business.events.BusinessEventIdentifier (0..1) <"A structure used to relate a previous event (sequentially) to the event conveyed by the message. This identifier is NOT to be used for corrections to events.">
    correctedEventIdentifier fpml.consolidated.business.events.BusinessEventIdentifier (0..1) <"A unique id associated with a previous inaccurate event. Population of this identifier reflects the fact that the event being conveyed is a \'corrective measure\' to the event referenced by this identifier.">

type AbstractLoanLegalAction extends LoanLegalActionSummary: <"An abstract type syndicated bank loan legal action definition.">

type AbstractLoanPartyProfileStatement extends fpml.consolidated.msg.CorrectableRequestMessage: <"An abstract base type for all supplementary communication to paying entities and/or servicing platforms.">

    comments fpml.consolidated.shared.NonEmptyString (0..1) <"A free-form, manually entered field which will be used by users directly for additional information.">

type AbstractLoanServicingEvent extends AbstractLoanEvent: <"An abstract base type defining common features of a syndicated loan servicing business event. Such events are originated by the borrower and are required to be communicated to the lender syndicate by agents.">

    businessEventPartiesModel BusinessEventPartiesModel (1..1)
    effectiveDate zonedDateTime (1..1) <"The date on which the associated business event is effective.">
    legalActionReference LoanLegalActionReference (0..1) <"Reference to a legal action.">

type AbstractLoanStatement extends fpml.consolidated.msg.CorrectableRequestMessage: <"An abstract base type for all syndicated loan statement notifications; the wrapper for deal/facility/contract definitions and facility/contract positions at a particular point in time (snapshot).">

    statementDate zonedDateTime (1..1) <"The date as of which the embedded information is valid.">
    comments fpml.consolidated.shared.NonEmptyString (0..1) <"A free-form, manually entered field which will be used by users directly for additional information.">

type AbstractLoanTradeEvent extends AbstractLoanEvent: <"An abstract structure defining fundamental master loan trade event information.">

    loanTradeReference LoanTradeReference (1..1)

type AbstractLoanTradeNotification extends fpml.consolidated.msg.CorrectableRequestMessage: <"An underlying abstract structure for all syndicated loan trade notifications; the wrapper for events which occur through the life-cycle of a loan trade.">

    noticeDate zonedDateTime (1..1) <"The business date on which the notice is valid (and was communicated).">
    partyReference fpml.consolidated.shared.PartyReference (1..1) <"The party sending the notification.">
    role LoanTradingPartyRole (1..1) <"The role of the party that is sending the notification.">
    payment LoanTradePayment (0..*)

type AbstractPartyProfile extends AbstractPartyProfileId: <"An abstract base type that describes a party profile.">

    effectiveDate zonedDateTime (1..1) <"The business date on which the information conveyed within the party profile becomes effective.">
    partyReference fpml.consolidated.shared.PartyReference (1..1) <"The party whose details are being communicated within the notification.">
    relatedParty fpml.consolidated.shared.RelatedParty (0..*) <"Other parties that may be related to the receiver party. Examples: custodian or trustee; or, to convey company hierarchy (for use in the context of \'blacklists\').">
    documentation PartyProfileDocumentation (0..1) <"Description of the tax form registered by the party.">

type AbstractPartyProfileId: <"An abstract base type that identifies a party profile.">

    partyProfileIdentifier PartyProfileIdentifier (1..*)

type AbstractServicingNotification extends fpml.consolidated.msg.CorrectableRequestMessage: <"An abstract base type for all syndicated loan servicing notifications; the wrapper for loan events which occur through the life-cycle of a deal.">

    noticeDate zonedDateTime (1..1) <"The business date on which the notice is valid (and was communicated).">
    isGlobalOnly boolean (1..1) <"Indicates whether the embedded business event is \'global\', i.e. NOT lender specific.">
    eventPayment EventPayment (0..*) <"The payments/wiring instructions associated with all embedded loan events.">

type AbstractTask: <"An underlying abstract structure that defines the responsible party for tasks that must be completed.">

    taskIdentifier TaskIdentifier (1..*)
    parentTaskIdentifier ParentTaskIdentifier (0..1) <"An identifier used to identify a group of related tasks.">
    previousTaskIdentifier TaskIdentifier (0..1) <"A unique identifier associated with a previous ‘inaccurate task.’ Population of this identifier represents that this task is a ‘corrective measure’ to a previous task, rather than being a stand-alone task.">
    correctedTaskIdentifier TaskIdentifier (0..1) <"A unique identifier associated with a previous ‘inaccurate task.’ Population of this identifier represents that this task is a ‘corrective measure’ to a previous task, rather than being a stand-alone task.">
    responsibleParty fpml.consolidated.shared.PartyReference (1..1) <"A reference to the party responsible for the completion of the task.">
    dates TaskDates (1..1) <"Dates relevant to the task.">
    status fpml.consolidated.fpmlenum.TaskStatusEnum (1..1) <"An enum to define the status of the task.">
    comment fpml.consolidated.shared.NonEmptyString (0..1) <"A freetext field which allows the sender to add further details around the task.">

type AbstractTradingAccrual: <"An underlying structure that details the elements that affect the calculation of a trade-related accrual.">

    amount fpml.consolidated.shared.Money (1..1) <"The total accrual amount.">
    accrualPeriod AccrualPeriod (0..*) <"One or more accrual periods which reflect the constituent portions of the accrual amount.">

type AbstractLegacyAccrualOptionBase: <"An abstract type used for defining accrual structures within loan instruments.">

    accrualOptionId AccrualTypeId (1..1) <"A unique id associated with the loan accrual type.">
    dayCountFraction fpml.consolidated.shared.DayCountFraction (1..1) <"The day count basis for the accrual.">
    paymentFrequency fpml.consolidated.shared.Period (0..1)

type AbstractAccrualOptionBase: <"An abstract type used for defining accrual structures within loan instruments.">

    accrualOptionId AccrualTypeId (1..1) <"A unique id associated with the loan accrual type.">
    dayCountFraction fpml.consolidated.shared.DayCountFraction (1..1) <"The day count basis for the accrual.">
    paymentFrequency fpml.consolidated.shared.Period (0..1)

type AccrualOptionChangeSequence0:

    fixedRateOption FixedRateOption (0..1) <"A structure that represents the accruing fixed rate option associated within a facility.">
    floatingRateOption LoanFloatingRateOption (0..1) <"A structure that represents the accruing floating rate option associated within a facility.">
    legacyFloatingRateOption LegacyFloatingRateOption (0..1) <"A structure that represents a legacy (pre-IBOR replacement) accruing floating rate option associated within a facility.">
    loanContractReference LoanContractReference (0..*) <"A loan contract reference structure.">

type AccrualOptionChangeSequence1:

    lcOption LcOption (1..1) <"A structure that represents the accruing L/C rate option associated within a facility.">
    letterOfCreditReference LetterOfCreditReference (0..*) <"A letter of credit reference structure">

type AccrualPeriod: <"A structure that describes the details of the underlying elements that explain the calculation of an accrual against a reference balance.">

    periodWithDaysModel PeriodWithDaysModel (1..1)
    referenceAmount MoneyWithParticipantShare (1..1) <"Global and lender share amounts.">
    referenceAmountType fpml.consolidated.fpmlenum.AccrualReferenceAmountTypeEnum (0..1) <"The type of the amount referenced in the accrual schedule calculation, based on an enumeration.">
    rate number (1..1) <"The aggregate rate applied to the accrual period. E.g. for loans, this is the all-in rate and for letters of credit this is the LC accruing fee rate.">
    accrualPeriodSequence AccrualPeriodSequence (0..1)
    accrualAmount MoneyWithParticipantShare (1..1) <"The accrual amount over the defined period.">

type AccrualPeriodSequence:

    baseRate number (1..1) <"The base rate applied to this period. In the case of a loan accrual period, some examples of this rate include the prime rate, the risk-free rate, or a legacy index rate.">
    compoundedRate number (0..1) <"The calculated compounded rate applied to this period. This element is utilized if a accrual compounding method type (from the AccrualCompoundingMethod) of \'CompoundingRate\' is selected.">
    spreadAdjustment number (0..1) <"An amount to be added to the calculated value before subsequent use, in order to more closely replicate the original term rate, by adjusting for the economic or credit spread between risk-free rates and risky term rates.">
    rateAdjustment RateAdjustment (1..1) <"A structure representing additional adjustments to the base rate">

type AccrualTypeId: <"A structure used to uniquely identify a single accrual type within a syndicated loan structure.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    accrualTypeIdScheme fpml.consolidated.shared.NonEmptyURI (1..1)

type AccruingFeeOption extends FeeRateOptionBase: <"A structure that represents the accruing fee option associated within a facility.">

    ^type AccruingFeeType (1..1) <"The accruing fee type for which a rate is being provided.">
    periodOptionalEndModel PeriodOptionalEndModel (1..1)
    calculationDefinition fpml.consolidated.shared.NonEmptyNormalizedString (0..1) <"A freetext field which allows the sender to add further details around the business event.">

type AccruingFeePaymentSequence:

    accrualSchedule AccrualPeriod (0..*) <"A schedule that incorporates all sub-periods of an accrual calculation.">
    projection PaymentProjection (0..1) <"Projected interest payment details.">

type AccruingFeeType: <"A list of all eligible accruing facility-level fee types.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    accruingFeeTypeScheme fpml.consolidated.shared.NonEmptyURI (0..1)

type AccruingPikOption extends FeeRateOptionBase: <"A structure that represents the accruing PIK option associated within a facility.">

    periodModel fpml.consolidated.shared.PeriodModel (1..1)

type ActionApproval: <"A structure to describe the approval of the action (e.g. a legal action), including votes required for approval and approval deadline.">

    approvalRequirement VoteQuantity (1..1) <"A structure to describe the approval requirement. I.e. the number of \"for\" votes.">
    approvalParties ApprovalParties (0..1) <"A structure to describe the eligible and ineligible parties to vote on the action (e.g. a legal action).">
    approvalDeadlineDate zonedDateTime (1..1) <"Approval deadline.">

type Adjustment: <"A structure used to describe an adjustment.">

    adjustmentType fpml.consolidated.fpmlenum.AmountAdjustmentEnum (1..1) <"Defines the type of adjustment applied - increase or decrease.">
    amount MoneyWithParticipantShare (1..1)

type ApplicableAssets: <"A structure that defines the assets (or type of assets) that a particular payment profile may be associated with.">

    applicableAssetsChoice ApplicableAssetsChoice (0..1)
    allAssets fpml.consolidated.fpmlenum.LoanAllAssetsEnum (0..1) <"A list with a single \'all\' value to explicitly indicate all transactions are applicable.">

type ApplicableAssetsChoice:

    dealIdentifier DealIdentifier (0..*) <"The deals for which this default settlement instruction is valid.">
    facilityIdentifier FacilityIdentifier (0..*) <"The facilities for which this default settlement instruction is valid.">
    facilityType fpml.consolidated.asset.FacilityType (0..*) <"The facility type (i.e. term, delayed draw, TLB, etc.) for which this default settlement instruction is valid.">

type ApplicableTransactions: <"A structure that defines specific servicing transactions that a particular payment profile may be associated with.">

    applicableTransactionType ApplicableTransactionType (0..*) <"A scheme that describes transaction types.">
    allTransactions fpml.consolidated.fpmlenum.LoanAllTransactionsEnum (0..1) <"A list with a single \'all\' value to explicitly indicate all transactions are applicable.">

type ApplicableCommunicationDetails extends AbstractApplicablePartyProfileObjects: <"A structure that defines the assets (or type of assets) that a particular set of communication details may be associated with.">

    applicableCommunicationDetailsChoice ApplicableCommunicationDetailsChoice (1..*)

type ApplicableCommunicationDetailsChoice:

    relatedPerson fpml.consolidated.shared.RelatedPerson (0..1)
    relatedBusinessUnit fpml.consolidated.shared.RelatedBusinessUnit (0..1)

type ApplicableSettlementInstructionDetails extends AbstractApplicablePartyProfileObjects: <"A structure that defines the assets (or type of assets) that a particular set of settlement instrution details may be associated with.">

    settlementDetails SettlementDetails (1..*) <"Settlement account details to describe the acount to which cash should be sent, for payments received by the party sending the Lender Party Notification.">

type ApplicableTransactionType: <"A scheme that describes transaction types.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    applicableTransactionTypeScheme fpml.consolidated.shared.NonEmptyURI (0..1)

type ApprovalParties: <"A structure to describe the eligible and ineligible parties to vote on an action (e.g. a legal action).">

    approvalPartiesChoice ApprovalPartiesChoice (1..*)

type ApprovalPartiesChoice:

    eligibleParty fpml.consolidated.shared.PartyReference (0..1) <"A reference to a lender eligible to vote on the approval.">
    approvalPartiesChoiceSequence ApprovalPartiesChoiceSequence (0..1)

type ApprovalPartiesChoiceSequence:

    ineligibleParty fpml.consolidated.shared.PartyReference (1..1) <"A reference to a lender ineligible to vote on the approval.">
    ineligibleReason IneligiblePartyReasonType (0..1) <"A structure to describe the reason a lender is ineligible to vote on the approval, based on a scheme.">

type ApprovalVoteDecision: <"A structure to describe a party\'s approval vote decision.">

    voteDecision fpml.consolidated.fpmlenum.VoteDecisionEnum (1..1) <"The vote decision of the party, based on an enumeration. This object represents the \"functional\" impact of the decision, and not the legal vernacular. Use either documentVoteDecision or description elements below to express the legal vernacular representing the vote decision.">
    documentVoteDecision DocumentVoteDecisionType (0..1) <"The vote decision of the party, based on a scheme. This object represents the documented description of the vote decision (i.e. the decision as described by the legal document).">
    description fpml.consolidated.shared.NonEmptyNormalizedString (0..1) <"A free form field to provide a description of the vote decision of the party. This object represents the documented description of the vote decision (i.e. the decision as described by the legal document).">

type ApprovalVotes: <"A structure to describe the approval votes, expressed as a percentage as well as a commitment with optional list of votes by voters.">

    forVotesQuantity VoteQuantity (1..1) <"A structure to describe total \"for\" votes received.">
    partyApprovalVotesList PartyApprovalVote (0..*) <"A structure to describe a list of party approval votes.">

type AssociationToAssetId: <"A structure that defines an association identifier based on a qualifying scheme.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    associationToAssetIdScheme string (1..1)
    id string (0..1)

type AssociationToAssetIdentifier: <"A type defining an association between party or settlement information with an asset or assets">

    partyReference fpml.consolidated.shared.PartyReference (1..1) <"Reference to a party.">
    associationId AssociationToAssetId (1..1) <"A unique association ID, based on a scheme.">
    id string (0..1)

type BuyerSellerAmounts: <"A structure that defines the buyer and seller amounts of a payable.">

    buyersAmount fpml.consolidated.shared.NonNegativeMoney (1..1) <"The buyer\'s amount of a payable.">
    sellersAmount fpml.consolidated.shared.NonNegativeMoney (1..1) <"The seller\'s amount of a payable.">

type CashPayable: <"A structure that represents payable cash, together with reference to any withholding tax being applied. This is used as a generic cash flow container across all loan business events (within the event header).">

    simplePayerReceiverModel SimplePayerReceiverModel (1..1)
    netAmount fpml.consolidated.shared.NonNegativeMoney (1..1) <"The cash amount payable, net of all tax withholding. This amount represents the funds to be wired from \'payer\' to \'receiver\' as a result of the underlying business event.">
    taxWithholding TaxWithholding (0..*) <"Details of the tax being withheld.">

type CommitmentChange: <"A structure which specifies the commitment changes occurring throughout the life of a facility.">

    date zonedDateTime (1..1) <"The date on which a facility increase/decrease has/will occur.">
    adjustment Adjustment (1..1) <"The total remaining commitment amount (in facility currency), once the adjustment has been applied.">
    remaining MoneyWithParticipantShare (1..1) <"The total remaining commitment amount (in facility currency), once the adjustment has been applied.">

type CommitmentSchedule: <"A structure that represents a complete amortization schedule through the life of a facility.">

    commitmentChange CommitmentChange (1..*) <"The date on which a facility increase/decrease has/will occur.">

type CovenantObligationId: <"A structure that defines a covenant obligation identifier based on a qualifying scheme.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    covenantObligationIdScheme string (1..1)
    id string (0..1)

type CovenantObligationIdentifier: <"A type defining a covenant obligation identifier issued by the indicated party.">

    name fpml.consolidated.shared.NonEmptyToken (0..1) <"Long name of the underlying covenant obligation.">
    partyReference fpml.consolidated.shared.PartyReference (1..1) <"Reference to a party.">
    covenantObligationId CovenantObligationId (0..*) <"A structure that defines a covenant obligation identifier based on a qualifying scheme.">
    versionedCovenantObligationId VersionedCovenantObligationId (0..*)
    id string (0..1)

type CovenantObligationSummary extends CovenantObligationIdentifier: <"A covenant obligation definition.">

    effectiveDate zonedDateTime (1..1) <"The start date of the covenant effectiveness.">
    obligatedParty fpml.consolidated.shared.PartyReference (1..1) <"Describes the party obligated by the loan covenant.">

type DateAdjustmentType: <"A structure used to uniquely identify a date adjustment type, based on a business case (e.g. grace days).">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    dateAdjustmentTypeScheme fpml.consolidated.shared.NonEmptyURI (0..1)

type Deal extends DealSummary: <"A syndicated bank loan deal (credit agreement) definition.">

    dealRulesModel DealRulesModel (1..1)
    covenant LoanCovenantObligation (0..*)
    dealSequence DealSequence (1..*)

type DealSequence:

    facilityGroup AbstractFacility (1..1)

type DealIdentifier extends IdentifiedAssetWithParty: <"A unique reference to a syndicated bank loan deal (credit agreement).">

type DealReference extends fpml.consolidated.shared.Reference: <"A reference to a deal.">

    href string (1..1)

type DealSummary extends DealIdentifier: <"A short form of a deal.">

    dealRolesModel DealRolesModel (1..1)
    creditAgreementDate zonedDateTime (1..1) <"The credit agreement date is also known as the \'closing date\' (the date on which the agreement was signed). Funding of the facilities occurs either on or after (in the case of a Delayed Draw) the Credit Agreement date.">
    currency fpml.consolidated.shared.Currency (0..1) <"Deal denomination currency.">
    dealSummarySequence DealSummarySequence (0..1)

type DealSummarySequence:

    issuedAmount fpml.consolidated.shared.NonNegativeMoney (1..1) <"Original deal amount.">
    currentDealAmount MoneyWithParticipantShare (0..1) <"Current deal amount.">

type DocumentVoteDecisionType: <"A structure used to identify a documented vote decision type (e.g. a vote decision type based on legal documentation).">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    voteDecisionTypeScheme fpml.consolidated.shared.NonEmptyURI (0..1)

type DueDateAdjustment: <"A structure to describe a business adjustment to a due date (e.g. for completing a covenant obligation).">

    numberOfDays int (1..1) <"The number of days adjustment.">
    dayType fpml.consolidated.fpmlenum.DayTypeEnum (1..1) <"The type of day adjustment being applied (e.g. \"business\" vs. \"calendar\" days).">
    adjustmentType DateAdjustmentType (1..1) <"A structure to describe the type of adjustment (e.g. grace days, leading days, trailling days, etc.), based on a scheme.">

type EventPayment extends LoanSimplePayment: <"A structure that represents the prepayment structure associated within a facility.">

    eventPaymentSequence EventPaymentSequence (1..*)
    settlementInstruction fpml.consolidated.shared.SettlementInstruction (0..1) <"A standard settlement instruction defining how a currency payment is to be made.">

type EventPaymentSequence:

    eventIdentifier fpml.consolidated.business.events.BusinessEventIdentifier (1..1)

type EvergreenOption: <"A struture that represents an evergreen option that is available within a letter of credit instrument.">

    nonRenewalNoticePeriod fpml.consolidated.shared.Period (0..1) <"The number of calendar days before the expiry of the letter of credit, that the borrower must declare an intention to extend the letter of credit.">
    extensionPeriod fpml.consolidated.shared.Period (1..1) <"The number of calendar days defining the extension period.">

type FacilityCommitment: <"A structure that represents the commitment amount against a facility or facility portion. Also shows the utilization levels against the total commitment amount (in facility currency).">

    totalCommitmentAmount MoneyWithParticipantShare (1..1) <"The total commitment level associated with the facility or facility portion (in facility currency).">
    facilityCommitmentSequence FacilityCommitmentSequence (0..1)

type FacilityCommitmentSequence:

    utilizationModel UtilizationModel (1..1)
    unavailableToUtilizeAmount MoneyWithParticipantShare (1..1) <"The portion of the commitment amount which is NOT available for the borrower to draw against.">

type FacilityFeature: <"A list of facility features.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    facilityFeatureScheme fpml.consolidated.shared.NonEmptyURI (0..1)

type FacilityIdentifier extends IdentifiedAssetWithParty: <"A unique identifier to a facility.">

    dealReference DealReference (0..1)

type FacilityPosition: <"A structure that represents current/prior facility commitment amounts on both the global and lender position levels.">

    facilityReference FacilityReference (1..1) <"A unique facility identifier.">
    currentPriorCommitmentModel CurrentPriorCommitmentModel (1..1)
    outstandingsPosition OutstandingsPosition (0..*) <"A structure used to define all positions held by the lender at the loan contract level. This structure is designed to hold either some or all loan contracts.">

type FacilityReference extends fpml.consolidated.shared.Reference: <"A reference to a facility.">

    href string (1..1)

type FacilitySummary extends FacilityIdentifier: <"A short form of a facility.">

    facilityRolesModel FacilityRolesModel (1..1)
    facilityDatesModel FacilityDatesModel (1..1)
    facilityCommitmentModel FacilityCommitmentModel (1..1)

type FeeRateOptionBase extends AbstractAccrualOptionBase: <"An abstract type that specifies an underlying fixed rate cash accrual option.">

    rate number (1..1) <"The applicable rate.">

type FinancialMetric: <"A structure to describe a financial statement of balance sheet metric.">

    ^type FinancialMetricType (1..1) <"A financial metric value type, based on a scheme.">
    description fpml.consolidated.shared.NonEmptyNormalizedString (0..1) <"An optional free form text field to further describe the financial metric.">

type FinancialMetricType: <"A structure used to uniquely identify a financial metric type, described by a scheme.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    financialMetricTypeScheme fpml.consolidated.shared.NonEmptyURI (0..1)

type FixedRateAccrual extends AbstractFixedRateOptionBase: <"A full definition of the fixed rate accrual characteristics of a loan contract. This structure defines both the underlying base rate as well as any additional margins and costs associated with the loan contract.">

    periodWithDaysModel PeriodWithDaysModel (1..1)
    fixedRateAccrualSequence FixedRateAccrualSequence (0..1)
    paymentProjection PaymentProjection (0..1) <"Projected interest payment details.">

type FixedRateAccrualSequence:

    penaltySpread number (0..1) <"The penalty spread currently applied to the interest rate period.">
    defaultSpread number (0..1) <"The default spread currently applied to the interest rate period.">
    mandatoryCostRate number (0..1) <"The mandatory cost rate currently applied to the interest rate period.">
    allInRate number (1..1) <"The actual percentage rate charged to the borrower. (Base Rate + Spread + Default Rate + Penalty Rate + Mandatory Cost Rate) = All In Rate. This rate NEVER includes PIK.">

type FixedRateOption extends AbstractFixedRateOptionBase: <"A structure that represents the accruing fixed rate option associated within a facility.">

    periodModel fpml.consolidated.shared.PeriodModel (1..1)
    currency fpml.consolidated.shared.Currency (1..1)
    allInRateLimits RateLimits (0..1)
    borrowerPartyReference fpml.consolidated.shared.PartyReference (0..*) <"A party reference to the borrower(s) permitted to exercise the cash accrual option.">
    drawdownNoticeDays int (0..1) <"The number of business days that a lender must be notified prior to a drawdown event occurring.">
    fxRateSetNoticeDays int (0..1) <"The number of business days that a lender must be notified prior to an FX rate set event occurring.">
    rateSetNoticeDays int (0..1) <"The number of business days that a lender must be notified prior to a rate set event occurring.">

type FxTerms extends fpml.consolidated.shared.FxFixing: <"A structure which specifies FX conversion terms.">

    rate fpml.consolidated.shared.PositiveDecimal (1..1) <"The rate of exchange between the two currencies of the leg of a deal. Must be specified with a quote basis.">

type IdentifiedAssetWithParty extends fpml.consolidated.asset.Asset: <"An extension of IdentifiedAsset to include PartyAndAccountReferences.model.">

    partyReference fpml.consolidated.shared.PartyReference (1..1) <"Reference to a party.">
    instrumentId fpml.consolidated.shared.InstrumentId (1..*) <"Identification of the underlying asset, using public and/or private identifiers.">
    description fpml.consolidated.shared.NonEmptyNormalizedString (0..1) <"Long name of the underlying asset.">

type IneligiblePartyReasonType: <"A structure used to uniquely identify a legal action lender ineligible reason type.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    ineligiblePartyReasonTypeScheme fpml.consolidated.shared.NonEmptyURI (0..1)

type InterestCapitalizationSequence:

    accrualSchedule AccrualPeriod (0..*) <"A schedule that incorporates all sub-periods of an accrual calculation.">
    projection PaymentProjection (0..1) <"Projected interest payment details.">

type LcAccrual extends FeeRateOptionBase: <"A full definition of the accrual characteristics of a letter of credit. This structure defines both the underlying letter of credit issuance fee rate as well as any FX rates applied.">

    lcAccrualSequence LcAccrualSequence (0..1)

type LcAccrualSequence:

    currency fpml.consolidated.shared.Currency (1..1) <"The currency in which the letter of credit accrual is denominated. This field should ONLY be populated when the accrual currency is different to the base letter of credit currency.">
    lcFxRate FxTerms (1..1) <"Defines exchange rate between the letter of credit accrual and letter of credit currencies.">

type LcFeeTypeId: <"A structure used to uniquely identify a single letter of credit fee type within a syndicated loan structure.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    lcFeeTypeIdScheme fpml.consolidated.shared.NonEmptyURI (1..1)

type LcOption extends FeeRateOptionBase: <"A structure that represents the accruing L/C rate option associated within a facility.">

    periodModel fpml.consolidated.shared.PeriodModel (1..1)
    ^type LcType (1..1) <"The letter of credit type for which a fee rate is being provided.">
    minLcIssuanceFeeAmount MoneyWithParticipantShare (0..1) <"The letter of credit notional amount. The amount is represented at the global and (optionally) atthe lender-specific level.">

type LcPurpose: <"A list of L/C purposes.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    lcPurposeScheme fpml.consolidated.shared.NonEmptyURI (0..1)

type LcType: <"A list of L/C types.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    lcTypeScheme fpml.consolidated.shared.NonEmptyURI (0..1)

type LegacyAccrualPeriod: <"A structure that describes the details of the legacy version (pre-IBOR replacement) of underlying elements that explain the calculation of an accrual against a reference balance.">

    periodWithDaysModel PeriodWithDaysModel (1..1)
    referenceAmount MoneyWithParticipantShare (1..1) <"Global and lender share amounts.">
    referenceAmountType fpml.consolidated.fpmlenum.AccrualReferenceAmountTypeEnum (0..1) <"The type of the amount referenced in the accrual schedule calculation, based on an enumeration.">
    rate number (1..1) <"The rate applied to this period.">
    accrualAmount MoneyWithParticipantShare (1..1) <"The accrual amount over the defined period.">

type LegacyFloatingRateAccrual extends AbstractLegacyFloatingRateOptionBase: <"A full definition of the legacy version (pre-IBOR replacement) of accrual characteristics of a loan contract. This structure defines both the underlying base rate as well as any additional margins and costs associated with the loan contract.">

    periodWithDaysModel PeriodWithDaysModel (1..1)
    legacyFloatingRateAccrualSequence LegacyFloatingRateAccrualSequence (0..1)
    paymentProjection PaymentProjection (0..1) <"Projected interest payment details.">

type LegacyFloatingRateAccrualSequence:

    rateFixingDate zonedDateTime (1..1) <"The date on which the underlying interest rate is fixed. It is an actual (adjusted) date. Note: This should default to the effective date of the loan contract in the case of a PRIME base rate.">
    baseRate number (0..1) <"The actual underlying base rate associated with the period, defined as a percentage.">
    legacyFloatingRateAccrualSequenceSequence LegacyFloatingRateAccrualSequenceSequence (0..1)

type LegacyFloatingRateAccrualSequenceSequence:

    penaltySpread number (0..1) <"The penalty spread currently applied to the interest rate period.">
    defaultSpread number (0..1) <"The default spread currently applied to the interest rate period.">
    mandatoryCostRate number (0..1) <"The mandatory cost rate currently applied to the interest rate period.">
    allInRate number (1..1) <"The actual percentage rate charged to the borrower. (Base Rate + Spread + Default Rate + Penalty Rate + Mandatory Cost Rate) = All In Rate. This rate NEVER includes PIK.">

type LegacyFloatingRateIndexLoan: <"A legacy subset of the ISDA Floating Rate Option scheme, i.e. the floating rate index. These are the pre-IBOR replacement indices used by the syndicated loan market.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    legacyFloatingRateIndexScheme fpml.consolidated.shared.NonEmptyURI (0..1)

type LegacyFloatingRateOption extends AbstractLegacyFloatingRateOptionBase: <"A structure that represents the legacy version (pre-IBOR replacement) of an accruing floating rate option associated within a facility.">

    currency fpml.consolidated.shared.Currency (1..1)
    periodModel fpml.consolidated.shared.PeriodModel (1..1)
    baseRateLimits RateLimits (0..1)
    allInRateLimits RateLimits (0..1)
    borrowerPartyReference fpml.consolidated.shared.PartyReference (0..*) <"A party reference to the borrower(s) permitted to exercise the cash accrual option.">
    drawdownNoticeDays int (0..1) <"The number of business days that a lender must be notified prior to a drawdown event occurring.">
    fxRateSetNoticeDays int (0..1) <"The number of business days that a lender must be notified prior to an FX rate set event occurring.">
    rateSetNoticeDays int (0..1) <"The number of business days that a lender must be notified prior to a rate set event occurring.">

type LegacyInterestCapitalizationSequence:

    accrualSchedule LegacyAccrualPeriod (0..*) <"A schedule that incorporates all sub-periods of an accrual calculation.">
    projection PaymentProjection (0..1) <"Projected interest payment details.">

type LegacyLoanInterestPayment extends AbstractLoanContractEvent: <"An event representing the legacy version (pre-IBOR replacement) lender-specific payment of interest amounts for a given accrual period against a single loan contract.">

    periodModel fpml.consolidated.shared.PeriodModel (1..1)
    calculationMethod fpml.consolidated.fpmlenum.InterestCalculationMethodEnum (1..1) <"Defines whether the agent bank is making an interest payment based on the lender pro-rata share at the end of the period (snapshot) or based on the lender position throughout the period (which is the default).">
    amount MoneyWithParticipantShare (1..1)
    legacyLoanInterestPaymentSequence LegacyLoanInterestPaymentSequence (0..1)

type LegacyLoanInterestPaymentSequence:

    accrualSchedule LegacyAccrualPeriod (0..*) <"A schedule that incorporates all sub-periods of an accrual calculation.">
    projection PaymentProjection (0..1) <"Projected interest payment details.">

type LegalActionId: <"A short form unique identifier for a loan legal action.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    legalActionIdScheme fpml.consolidated.shared.NonEmptyURI (1..1)
    id string (0..1)

type LegalActionIdentifier: <"A structure to define a legal action identifier.">

    name fpml.consolidated.shared.NonEmptyNormalizedString (0..1) <"Long name of the underlying legal action.">
    partyReference fpml.consolidated.shared.PartyReference (1..1) <"Reference to a party.">
    legalActionId LegalActionId (0..*) <"Identification of the legal action.">
    versionedLegalActionId VersionedLegalActionId (0..*)
    id string (0..1)

type LenderClassification: <"A list of lender classifications. These are used to derive other rules associated with specific lender types.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    lenderClassificationScheme fpml.consolidated.shared.NonEmptyURI (0..1)

type LetterOfCredit extends LetterOfCreditSummary: <"A definition of an unfunded borrowing (guarantee) instrument known as a Letter of Credit.">

    expiryDate zonedDateTime (1..1) <"Expiry date of the letter of credit.">
    finalExpiryDate zonedDateTime (0..1) <"Final expiry date of the letter of credit, once the evergreen option has been exercised.">
    lcAccrual LcAccrual (1..1) <"The letter of credit fee rate details.">
    purpose LcPurpose (0..1) <"Defines the purpose of a letter of credit.">
    letterOfCreditFeaturesModel LetterOfCreditFeaturesModel (1..1)
    facilityFxRate FxTerms (0..1) <"Defines exchange rate between the letter of credit and facility.">

type LetterOfCreditReference extends fpml.consolidated.shared.Reference: <"A reference to a letter of credit.">

    href string (1..1)

type LetterOfCreditSummary extends LoanContractIdentifier: <"A short form definition of a letter of credit.">

    ^type LcType (1..1) <"The letter of credit type for which a fee rate is being provided.">
    effectiveDate zonedDateTime (1..1) <"Effective date of the letter of credit.">
    letterOfCreditRolesModel LetterOfCreditRolesModel (1..1)
    amount MoneyWithParticipantShare (1..1) <"The letter of credit notional amount. The amount is represented at the global and (optionally) at the lender-specific level.">

type LoanAcknowledgement extends fpml.consolidated.msg.Message: <"A base type to extend the FpML basic \'message\' type, similar in function to the \'response\' message, but specific to the needs of the loan asset class.">

    header fpml.consolidated.msg.ResponseMessageHeader (1..1)
    validationModel fpml.consolidated.doc.ValidationModel (1..1)
    correlationAndOptionalSequenceModel fpml.consolidated.msg.CorrelationAndOptionalSequenceModel (0..1)
    onBehalfOfModel fpml.consolidated.shared.OnBehalfOfModel (0..1)
    originalMessage fpml.consolidated.doc.UnprocessedElementWrapper (0..1)
    partiesAndAccountsModel fpml.consolidated.shared.PartiesAndAccountsModel (0..1)

type LoanAllocationType extends LoanAllocationSummary: <"A structure that defines party-to-party loan allocation information. This structure contains the allocated party details.">

    loanAllocationPartiesModel LoanAllocationPartiesModel (1..1)
    simpleBuyerSellerModel SimpleBuyerSellerModel (0..1)

type LoanAllocationEvent extends AbstractLoanAllocationEvent: <"An event structure defining information related to a loan trade allocation.">

type LoanAllocationIdentifier extends fpml.consolidated.doc.TradeIdentifier: <"A structure that contains sender-specific and optional shared loan allocation identifiers.">

    loanTradeReference LoanTradeReference (1..1) <"Reference to the original loan trade.">

type LoanAllocationNoSettlePeriod: <"A structure that describes a period during which settlement cannot occur.">

    periodModel fpml.consolidated.shared.PeriodModel (1..1)
    periodType LoanAllocationNoSettlePeriodType (1..1) <"A list of allowable types of no-settle periods.">

type LoanAllocationNoSettlePeriodType: <"A structure that defines no-settle period types based on a qualifying scheme.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    noSettlePeriodTypeScheme fpml.consolidated.shared.NonEmptyURI (0..1)

type LoanAllocationNotificationChoice0:

    loanAllocationEventGroup AbstractLoanAllocationEvent (0..1)
    settlementTask LoanAllocationSettlementTask (0..1)

type LoanAllocationNotificationChoice1:

    letterOfCreditDetailsModel LetterOfCreditDetailsModel (0..1)
    loanContractDetailsModel LoanContractDetailsModel (0..1)

type LoanAllocationPayment extends LoanSimplePayment: <"A structure that represents a payment related to a loan allocation level of a trade.">

    allocationReference LoanAllocationReference (1..*) <"Reference to the loan trade allocation.">
    receiverSettlementInstruction fpml.consolidated.shared.SettlementInstruction (0..1) <"This structure can be utilized as an override to previously-communicated settlement instructions (via the LoanPartyProfileNotification).">

type LoanAllocationReference extends fpml.consolidated.shared.Reference: <"A reference to a loan trade allocation.">

    href string (1..1)

type LoanAllocationSummary extends LoanAllocationIdentifier: <"A structure defining fundamental allocation event information.">

    amount fpml.consolidated.shared.NonNegativeMoney (1..1) <"Amount allocated.">
    comment fpml.consolidated.shared.NonEmptyString (0..1) <"A freetext field which allows the sender to add further details around the allocation event.">

type LoanAllocationSettlementDateAvailabilitySequence:

    leadDays int (1..1) <"Number of days advance notification required to express the intent to settle a trade.">
    cutOffTime time (1..1) <"Specific cutoff time to express the intent to settle a trade.">

type LoanAllocationSettlementTask extends AbstractTask: <"A structure that details tasks and their statuses, the completion of which are prerequisites to the settlement of a trade or allocation.">

    allocationReference LoanAllocationReference (1..*) <"Reference to a unique allocation id used to identify the allocation record.">
    ^type LoanAllocationSettlementTaskType (1..1) <"The type of the settlement task.">

type LoanAllocationSettlementTaskType: <"A structure used to uniquely identify a settlement task type within a syndicated loan structure.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    allocationSettlementTaskTypeScheme fpml.consolidated.shared.NonEmptyURI (0..1)

type LoanAllocationSettlementSequence:

    fundingFactors LoanTradingCounterpartySettlementFundingFactors (1..1) <"Factors impacting the setttlement cash flows.">

type LoanAllocationTransferFeeDue extends AbstractLoanAllocationEvent: <"A structure that defines details related to the admin agent\'s determination of transfer fee(s) due on an allocation.">

    amount fpml.consolidated.shared.NonNegativeMoney (1..1) <"Amount of transfer fee due to the admin agent for the allocation.">
    dueDate zonedDateTime (1..1) <"The business date on which the transfer fee is due.">

type LoanAllocationTransferFeeOwed extends AbstractLoanAllocationEvent: <"A structure that defines details related to the admin agent\'s determination of transfer fee(s) owed on an allocation.">

    loanTradingTransferFeeDeterminationModel LoanTradingTransferFeeDeterminationModel (1..1)

type LoanBulkServicingNotificationChoice:

    facilityEventGroup AbstractFacilityEvent (0..1)
    lcEventGroup AbstractLcEvent (0..1)
    loanContractEventGroup AbstractLoanServicingEvent (0..1)

type LoanBulkServicingNotificationSequence:

    dealDetailsModel DealDetailsModel (0..1)
    facilityDetailsModel FacilityDetailsModel (1..1)
    loanBulkServicingNotificationSequenceChoice LoanBulkServicingNotificationSequenceChoice (0..*)

type LoanBulkServicingNotificationSequenceChoice:

    letterOfCreditDetailsModel LetterOfCreditDetailsModel (0..1)
    loanContractDetailsModel LoanContractDetailsModel (0..1)

type LoanContract extends LoanContractSummary: <"A funded borrowing instrument which utilizes a portion of an available under a single facility (line of credit) within a bank deal (credit agreement).">

    repricingDate zonedDateTime (0..1) <"The repricing date of the loan contract. In the case of a PRIME-based loan, this field should be set to the maturity date of the facility.">
    maturityDate zonedDateTime (0..1) <"The maturity date of the loan contract. In the case of a PRIME-based loan, this field should be set to the maturity date of the facility.">
    fixedRateAccrual FixedRateAccrual (0..1) <"Defines the base rate and additional charges associated with the loan contract.">
    floatingRateAccrual LoanFloatingRateAccrual (0..1) <"Defined the base rate and additional charges associated with a loan contract">
    legacyFloatingRateAccrual LegacyFloatingRateAccrual (0..1) <"Defines the base rate and additional charges associated with the loan contract.">
    facilityFxRate FxTerms (0..1) <"Defines a single (current) FX rate used to calculate utilization in the facility currency. Used in the case where the loan contract currency is different to the facility currency.">

type LoanContractBaseRateSet extends AbstractLoanContractEvent: <"An event representing the initial setting of the rate on a single (new) loan contract.">

    fixingDate zonedDateTime (1..1) <"The date on which the underlying interest rate is fixed. It is an actual (adjusted) date. Note: This should default to the effective date of the loan contract in the case of a PRIME base rate.">
    rate number (1..1) <"The base rate.">
    spreadAdjustment number (0..1) <"An amount to be added to the calculated value before subsequent use, in order to more closely replicate the original term rate, by adjusting for the economic or credit spread between risk-free rates and risky term rates.">

type LoanContractIdentifier extends fpml.consolidated.doc.ContractIdentifier: <"A unique identifier for outstanding loan contracts.">

    facilityReference FacilityReference (1..1)

type LoanContractList: <"A list of loan contracts.">

    contract LoanContract (1..*)

type LoanContractMaturityChange extends AbstractLoanContractEvent: <"An event representing a change of maturity date on a one or more outstanding loan contracts.">

    currentMaturityDate zonedDateTime (1..1) <"The new loan contract maturity date.">
    priorMaturityDate zonedDateTime (0..1) <"The previous loan contract maturity date.">

type LoanContractReference extends fpml.consolidated.shared.Reference: <"A reference to a loan contract.">

    href string (1..1)

type LoanContractsReference: <"A list of references to loan contracts.">

    loanContractReference LoanContractReference (1..*)

type LoanContractSummary extends LoanContractIdentifier: <"A short form of a loan contract.">

    effectiveDate zonedDateTime (1..1) <"The effective date of the loan contract. This is the date on which the funds are passed to the borrower. It is an actual (adjusted) date.">
    borrowerPartyReference fpml.consolidated.shared.PartyReference (1..1) <"A reference to the borrower against a loan contract.">
    guarantorPartyReference fpml.consolidated.shared.PartyReference (0..1) <"Party references to any guarantors associated with the facility borrower.">
    amount MoneyWithParticipantShare (1..1)

type LoanCovenantObligation extends AbstractLoanCovenantObligation: <"A syndicated bank loan deal (credit agreement) covenant obligation definition.">

    deemedCovenantReference LoanCovenantObligationReference (0..1) <"Defines a referenced covenant from another deal or facility, in the event that a covenant from another deal or facility is deemed applicable.">
    loanCovenantObligationSequence LoanCovenantObligationSequence (0..1)

type LoanCovenantObligationSequence:

    category LoanCovenantObligationCategoryType (1..1) <"A structure used to uniquely identify a loan covenant obligation category, based on a scheme.">
    ^type LoanCovenantObligationType (1..1) <"A structure used to uniquely identify a loan covenant obligation type, based on a scheme.">
    loanCovenantObligationSequenceChoice LoanCovenantObligationSequenceChoice (0..*)
    loanCovenantObligationSequenceSequence LoanCovenantObligationSequenceSequence (0..1)

type LoanCovenantObligationSequenceChoice:

    description fpml.consolidated.shared.NonEmptyNormalizedString (0..1) <"An optional free form text field to further describe the covenant language. This field can be used to house the exact language as depicted in the credit agreement.">
    location fpml.consolidated.shared.NonEmptyNormalizedString (0..1) <"A structure to describe the location of the covenant language within the credit agreement (i.e. specific section, paragraph, subparagraph, etc.). Note: this structure is intended to be used for indicative purposes only.">

type LoanCovenantObligationSequenceSequence:

    triggerCriteria LoanCovenantObligationTriggerCriteriaDetails (1..1) <"A structure to describe the trigger criteria of a covenant obligation.">
    accountingDetails LoanCovenantObligationAccountingDetails (0..1) <"An open structure to describe miscellaneous or other characteristics of the covenant.">

type LoanCovenantObligationAccountingDetails: <"A structure to describe the accounting details of a covenant obligation.">

    accountingStandard fpml.consolidated.fpmlenum.AccountingStandardEnum (1..1) <"The type of accounting standard applicable to the loan covenant obligation, based on an enumeration.">
    inventoryMethod fpml.consolidated.fpmlenum.InventoryAccountingMethodEnum (0..1) <"The type of inventory accounting methodology applicatble to the loan covenant obligation, based on an enumeration.">

type LoanCovenantObligationCategoryType: <"A structure used to uniquely identify a loan covenant obligation category type (e.g. affirmative, negative, or financial) based on a scheme.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    loanCovenantObligationCategoryTypeScheme fpml.consolidated.shared.NonEmptyURI (0..1)

type LoanCovenantObligationDateTriggerDetails: <"A structure to describe the date or frequency by which a covenant obligation must be met.">

    loanCovenantObligationDateTriggerDetailsChoice LoanCovenantObligationDateTriggerDetailsChoice (1..*)
    dueDateAdjustment DueDateAdjustment (0..1) <"An optional structure to describe a business adjustment to a defined due date, set of due dates, or recurring due date, by which the covenant must be fulfilled without penalty.">

type LoanCovenantObligationDateTriggerDetailsChoice:

    dueDate LoanCovenantObligationDueDate (0..1) <"Defines the date, or series of dates, by which a covenant obligation must be met.">
    frequencyType fpml.consolidated.fpmlenum.ReportingFrequencyTypeEnum (0..1) <"Defines the recurring due date for a covenant obligation, as derived based on the borrower\'s/issuer\'s fiscal calendar.">

type LoanCovenantObligationDueDate: <"Defines the date, or series of dates, by which a covenant obligation must be met.">

    specificDate zonedDateTime (1..1) <"Defines the date by which a covenant obligation must be met.">
    dateOffset fpml.consolidated.shared.DateOffset (0..1) <"Defines an offset for a specific date, as applicable (e.g. if the date does not fall on a business date)">

type LoanCovenantObligationHybridDetails: <"A structure to describe the hybrid target criteria of a covenant obligation.">

    date LoanCovenantObligationDateTriggerDetails (1..*) <"A structure to describe the date or frequency by which a covenant obligation must be met.">
    metric LoanCovenantObligationMetric (1..1) <"A structure to describe the metric value criteria of a covenant obligation.">

type LoanCovenantObligationMetric: <"A structure to describe the metric of target criteria of a covenant obligation.">

    loanCovenantObligationMetricSequence LoanCovenantObligationMetricSequence (1..2)
    metricType LoanCovenantObligationMetricType (1..1) <"A structure used to describe a loan covenant obligation metric type, described by a scheme.">
    metricAdjustment LoanCovenantObligationMetricAdjustment (0..1) <"A structure to optionally describe an adjustment or modification consideration for the metric type described.">
    calculationDetails LoanCovenantObligationMetricCalculationDetails (0..1) <"A structure to describe the detail of the calculation of the target criteria of a covenant obligation (based on financial statement and/or balance sheet value types).">

type LoanCovenantObligationMetricSequence:

    value fpml.consolidated.shared.NonNegativeDecimal (1..1) <"A metric value of the covenant obligation.">
    valueType fpml.consolidated.fpmlenum.LoanCovenantObligationMetricValueTypeEnum (1..1) <"The type of metric value of the covenant obligation, described by an enumeration.">

type LoanCovenantObligationMetricAdjustment: <"A structure to describe adjustments to a covenant obligation metric (e.g. previous quarter, previous month, etc.)">

    ^type MetricAdjustmentType (1..1) <"A metric adjustment value type, based on a scheme (e.g. previous quarter(s), previous month(s), rolling month(s), etc.)">
    amount int (0..1) <"An element to optionally detail the number of units described by the metric adjustment type (e.g. if metric adjustment type is previous quarter, this element describes number of quarters).">

type LoanCovenantObligationMetricCalculationDetails: <"A structure to describe the detail of the calculation of the target criteria of a covenant obligation metric.">

    numeratorType FinancialMetric (1..*) <"The covenant obligation metric numerator type, based on a financial statement or balance sheet value.">
    denominatorType FinancialMetric (1..*) <"The covenant obligation metric denominator type, based on a financial statement or balance sheet value.">

type LoanCovenantObligationMetricType: <"A structure used to uniquely identify a loan covenant obligation metric type.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    loanCovenantObligationMetricTypeScheme fpml.consolidated.shared.NonEmptyURI (0..1)

type LoanCovenantObligationReference extends fpml.consolidated.shared.Reference: <"A reference to a loan covenant obligation.">

    href string (1..1)

type LoanCovenantObligationSummary extends CovenantObligationSummary: <"A syndicated bank loan deal (credit agreement) covenant obligation summary.">

    dealReference DealReference (0..1)
    facilityReference FacilityReference (0..*)

type LoanCovenantObligationTriggerCriteriaDetails: <"A structure to describe the trigger criteria of a covenant obligation.">

    date LoanCovenantObligationDateTriggerDetails (0..*) <"A structure to describe the date or frequency by which a covenant obligation must be met.">
    metric LoanCovenantObligationMetric (0..1) <"A structure to describe the metric value criteria of a covenant obligation.">
    hybridCriteria LoanCovenantObligationHybridDetails (0..1) <"A structure to describe the hybrid trigger criteria of a covenant obligation.">

type LoanCovenantObligationTask extends AbstractTask: <"A structure to describe a covenant obligation task.">

    covenantReference LoanCovenantObligationReference (1..1) <"A reference to a loan covenant obligation.">
    ^type LoanCovenantObligationTaskType (1..1) <"The type of the loan covenant obligation task.">
    description fpml.consolidated.shared.NonEmptyNormalizedString (0..1)

type LoanCovenantObligationTaskType: <"A structure used to uniquely identify a loan covenant obligation task type.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    legalCovenantTaskTypeScheme fpml.consolidated.shared.NonEmptyURI (0..1)

type LoanCovenantObligationType: <"A structure used to uniquely identify a loan covenant obligation type.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    loanCovenantObligationTypeScheme fpml.consolidated.shared.NonEmptyURI (0..1)

type LoanFloatingRate extends fpml.consolidated.shared.FloatingRate: <"An extension of the FloatingRate object for the purposes of the loan market.">

    isCompoundingBalance boolean (0..1) <"Defines whether the accrual calculation is based on compounding balance.">
    spreadAdjustment number (0..1) <"An amount to be added to the calculated value before subsequent use, in order to more closely replicate the original term rate, by adjusting for the economic or credit spread between risk-free rates and risky term rates.">
    allInRateLimits RateLimits (0..1)

type LoanFloatingRateAccrual extends AbstractLoanFloatingRateOptionBase: <"A full definition of the accrual characteristics of a loan contract. This structure defines both the underlying base rate as well as any additional margins and costs associated with the loan contract.">

    periodWithDaysModel PeriodWithDaysModel (1..1)
    loanFloatingRateAccrualSequence LoanFloatingRateAccrualSequence (0..1)

type LoanFloatingRateAccrualSequence:

    rateEffectiveDate zonedDateTime (1..1) <"The date on which the underlying interest rate is set or repriced. It is an actual (adjusted) date.">
    baseRate number (0..1) <"The actual underlying base rate associated with the period, defined as a percentage.">
    loanFloatingRateAccrualSequenceSequence LoanFloatingRateAccrualSequenceSequence (0..1)

type LoanFloatingRateAccrualSequenceSequence:

    pikSpread number (0..1) <"Optionally defines a PIK spread.">
    fundingLossSpread number (0..1) <"The funding loss spread currently applied to the interest rate period.">
    defaultSpread number (0..1) <"The default spread currently applied to the interest rate period.">
    mandatoryCostRate number (0..1) <"The mandatory cost rate currently applied to the interest rate period.">
    allInRate number (1..1) <"The actual percentage rate charged to the borrower. (Base Rate + Interest Spread Adjustment + Spread + Default Rate + Funding Loss Rate + Mandatory Cost Rate) = All In Rate. This rate NEVER includes PIK.">

type LoanFloatingRateOption extends AbstractLoanFloatingRateOptionBase: <"A structure that represents the accruing floating rate option associated within a facility.">

    currency fpml.consolidated.shared.Currency (1..1)
    periodModel fpml.consolidated.shared.PeriodModel (0..1)
    borrowerPartyReference fpml.consolidated.shared.PartyReference (0..*) <"A party reference to the borrower(s) permitted to exercise the cash accrual option.">
    drawdownNoticeDays int (0..1) <"The number of business days that a lender must be notified prior to a drawdown event occurring.">
    fxRateSetNoticeDays int (0..1) <"The number of business days that a lender must be notified prior to an FX rate set event occurring.">
    rateSetNoticeDays int (0..1) <"The number of business days that a lender must be notified prior to a rate set event occurring.">

type LoanInterestPayment extends AbstractLoanContractEvent: <"An event representing the lender-specific payment of interest amounts for a given accrual period against a single loan contract.">

    periodModel fpml.consolidated.shared.PeriodModel (1..1)
    lenderShareCalculationMethod fpml.consolidated.fpmlenum.InterestCalculationMethodEnum (1..1) <"Defines whether the agent bank is making an interest payment based on the lender pro-rata share at the end of the period (snapshot) or based on the lender position throughout the period (which is the default).">
    amount MoneyWithParticipantShare (1..1) <"Defines the total amount of the interest payment.">
    loanInterestPaymentSequence LoanInterestPaymentSequence (0..1)

type LoanInterestPaymentSequence:

    accrualSchedule AccrualPeriod (0..*) <"A schedule that incorporates all sub-periods of an accrual calculation.">
    projection PaymentProjection (0..1) <"Projected interest payment details.">

type LoanLegalAction extends AbstractLoanLegalAction: <"A syndicated bank loan legal action definition.">

    approval ActionApproval (1..1) <"A structure to describe the approval of the legal action, including votes required for approval and the approval deadline date.">
    loanLegalActionSequence LoanLegalActionSequence (0..1)

type LoanLegalActionSequence:

    before LoanLegalStructureBefore (1..1) <"Structure to describe the asset before the legal action.">
    after LoanLegalStructureAfter (1..1) <"Structure to describe the asset after the legal action.">

type LoanLegalActionApprovalStatus extends AbstractApproval: <"A structure that provides global level approval status on a legal action.">

    legalActionReference LoanLegalActionReference (1..1)
    ^type LoanLegalActionApprovalStatusType (1..1) <"Approved status as of the effective date, based on a scheme.">
    description fpml.consolidated.shared.NonEmptyNormalizedString (0..1) <"A free form text field to further describe the approval status.">

type LoanLegalActionApprovalStatusType: <"A structure used to identify a legal action approval status type, based on a scheme.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    loanLegalActionApprovalStatusTypeScheme fpml.consolidated.shared.NonEmptyURI (0..1)

type LoanLegalActionDetails: <"A structure to describe details of the legal action.">

    legalActionType LoanLegalActionType (1..1) <"A structure used to uniquely identify a legal action type.">
    description fpml.consolidated.shared.NonEmptyNormalizedString (0..1) <"A freetext field which allows the sender to describe the legal action.">

type LoanLegalActionNotificationChoice0:

    facilityEventGroup AbstractFacilityEvent (0..1)
    lcEventGroup AbstractLcEvent (0..1)
    loanContractEventGroup AbstractLoanServicingEvent (0..1)
    legalActionTask LoanLegalActionTask (0..1) <"A structure that details tasks and their statuses, the completion of which are prerequisites to a legal action.">
    legalActionStatus LoanLegalActionStatus (0..1) <"A structure to describe the overall status of the loan legal action.">
    legalActionApprovalStatus LoanLegalActionApprovalStatus (0..1) <"A structure that provides global level approval status on a legal action.">

type LoanLegalActionNotificationChoice1:

    dealDetailsModel DealDetailsModel (0..1)
    facilityDetailsModel FacilityDetailsModel (0..*)
    loanContractDetailsModel LoanContractDetailsModel (0..*)
    letterOfCreditDetailsModel LetterOfCreditDetailsModel (0..*)

type LoanLegalActionReference extends fpml.consolidated.shared.Reference: <"A reference to a legal action.">

    href string (1..1)

type LoanLegalActionStatementChoice:

    facilityDetailsModel FacilityDetailsModel (0..1)
    loanLegalActionStatementChoiceSequence LoanLegalActionStatementChoiceSequence (0..1)

type LoanLegalActionStatementChoiceSequence:

    facilityGroup AbstractFacility (1..1)

type LoanLegalActionStatus: <"A structure to describe the overall loan legal action status.">

    effectiveDate zonedDateTime (0..1) <"The effective date of the loan legal action status details.">
    legalActionReference LoanLegalActionReference (1..1)
    ^type LoanLegalActionStatusType (1..1) <"Loan legal action status as of the effective date, based on a scheme.">
    description fpml.consolidated.shared.NonEmptyNormalizedString (0..1) <"A free form field to provide additional description of the legal action status.">
    id string (0..1)

type LoanLegalActionStatusType: <"A structure used to identify a loan legal action status type, based on a scheme.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    loanLegalActionStatusTypeScheme fpml.consolidated.shared.NonEmptyURI (0..1)

type LoanLegalActionSummary extends LegalActionIdentifier: <"A syndicated bank loan legal action definition summary.">

    actionDetails LoanLegalActionDetails (1..1) <"Structure to describe the details of the legal action.">
    dealReference DealReference (0..1) <"Reference to the deal impacted by the legal action.">
    facilityReference FacilityReference (0..*) <"Reference to the facility or facilities impacted by the legal action.">

type LoanLegalActionTask extends AbstractTask: <"A structure that details tasks and their statuses, the completion of which are prerequisites to a legal action.">

    legalActionReference LoanLegalActionReference (1..1) <"Reference to a legal action.">
    ^type LoanLegalActionTaskType (1..1) <"The type of the legal action task.">
    description fpml.consolidated.shared.NonEmptyNormalizedString (0..1) <"A free form field to provide addition description of the legal action task.">

type LoanLegalActionTaskType: <"A structure that uniquely identifies a task type within a legal action structure.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    legalActionTaskTypeScheme fpml.consolidated.shared.NonEmptyURI (0..1)

type LoanLegalActionType: <"A structure used to uniquely identify a legal action type.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    loanLegalActionTypeScheme fpml.consolidated.shared.NonEmptyURI (0..1)

type LoanLegalStructureAfter: <"Structure describing an asset after a legal event (e.g. Amendment, Amended and Restated Agreement, etc.).">

    dealReference DealReference (0..1) <"A deal reference.">
    facilityReference FacilityReference (0..*) <"A facility reference.">
    loanLegalStructureAfterChoice LoanLegalStructureAfterChoice (0..*)

type LoanLegalStructureAfterChoice:

    contractReference LoanContractReference (0..1) <"A loan contract reference.">
    letterOfCreditReference LetterOfCreditReference (0..1) <"A full letter of credit structure.">

type LoanLegalStructureBefore: <"Structure describing an asset prior to a legal event (e.g. Amendment, Amended and Restated Agreement, etc.).">

    dealReference DealReference (0..1) <"A deal reference.">
    facilityReference FacilityReference (0..*) <"A facility reference structure">
    loanLegalStructureBeforeChoice LoanLegalStructureBeforeChoice (0..*)

type LoanLegalStructureBeforeChoice:

    contractReference LoanContractReference (0..1) <"A loan contract reference.">
    letterOfCreditReference LetterOfCreditReference (0..1) <"A full letter of credit reference.">

type LoanNotificationExceptionSequence:

    loanIdentifiersModel LoanIdentifiersModel (1..1)
    party fpml.consolidated.shared.Party (1..1)

type LoanSimplePayment extends fpml.consolidated.shared.PaymentBase: <"A complex type to specified payments in a simpler fashion than the Payment type. This construct should be used from the version 4.3 onwards.">

    simplePayerReceiverModel SimplePayerReceiverModel (1..1)
    paymentAmount fpml.consolidated.shared.NonNegativeMoney (1..1)
    paymentDate fpml.consolidated.shared.AdjustableDate (1..1) <"The payment date. This date is subject to adjustment in accordance with any applicable business day convention.">

type LoanTradeType extends LoanTradeSummary: <"A structure that defines party-to-party loan trade information. This structure contains the main (e.g. fund manager/main counterparty) trade details.">

    tradeDate zonedDateTime (1..1) <"The trade date associated with a specified trade record.">
    buyerSellerModel fpml.consolidated.shared.BuyerSellerModel (1..1)
    marketType fpml.consolidated.fpmlenum.LoanTradingTypeEnum (1..1) <"Primary or Secondary.">
    whenIssuedFlag boolean (1..1) <"A flag to indicate the dependency of a secondary market loan trade upon the closing of a primary market loan structuring and syndication process.">
    loanTradingSettlementTermsModel LoanTradingSettlementTermsModel (1..1)
    remittedBy fpml.consolidated.fpmlenum.BuySellEnum (1..1) <"Party responsible for remitting the transfer fee to the admin agent (buyer or seller).">
    loanTradeSequence LoanTradeSequence (0..1)

type LoanTradeSequence:

    price fpml.consolidated.shared.NonNegativeDecimal (1..1) <"The trade price, notated as a decimal, to be expressed as a percentage multiplied by the commitment amount.">
    transferFee LoanTransferFee (1..1) <"Details of the transfer fee owed to the admin agent.">
    loanTradingCounterpartyCashSettlementRulesModel LoanTradingCounterpartyCashSettlementRulesModel (1..1)
    loanTradingParticipationSettlementTermsModel LoanTradingParticipationSettlementTermsModel (0..1)

type LoanTradeEvent extends AbstractLoanTradeEvent: <"An event structure defining counterparty-to-counterparty loan trade information. This structure contains the main (e.g. fund manager/main counterparty) trade details.">

type LoanTradeReference extends fpml.consolidated.shared.Reference: <"A reference to a loan trade.">

    href string (1..1)

type LoanTradeSettlementTask extends AbstractTask: <"A structure that details tasks and their statuses, the completion of which are prerequisites to the settlement of a trade or allocation.">

    loanTradeReference LoanTradeReference (1..1) <"Reference to the master trade.">
    ^type LoanTradeSettlementTaskType (1..1) <"The type of the settlement task.">

type LoanTradeSettlementTaskType: <"A structure that uniquely identifies a settlement task type within a syndicated loan structure.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    tradeSettlementTaskTypeScheme fpml.consolidated.shared.NonEmptyURI (0..1)

type LoanTradeSummary extends fpml.consolidated.doc.TradeIdentifier: <"A structure that defines all loan trade information i.e. this structure contains the main (e.g. fund manager/main counterparty) trade details.">

    facilityReference FacilityReference (1..1) <"Reference to the facility traded.">
    amount fpml.consolidated.shared.NonNegativeMoney (1..1) <"The commitment amount traded as of the original trade date.">
    comment fpml.consolidated.shared.NonEmptyString (0..1) <"A freetext field which allows the sender to add further details around the trade event.">

type LoanTradeTransferFeeDue extends AbstractLoanTradeEvent: <"A structure that defines details related to the admin agent\'s determination of transfer fee(s) due on a trade.">

    amount fpml.consolidated.shared.NonNegativeMoney (1..1) <"Amount of transfer fee owed to the admin agent for the trade.">
    dueDate zonedDateTime (1..1) <"The business date on which the transfer fee is due.">

type LoanTradeTransferFeeOwed extends AbstractLoanTradeEvent: <"A structure that defines details related to the admin agent\'s determination of transfer fee(s) owed on a trade.">

    loanTradingTransferFeeDeterminationModel LoanTradingTransferFeeDeterminationModel (1..1)

type LoanTradingFacilityFeeAccrual extends AbstractTradingAccrual: <"A structure that details the underlying elements that affect the calculation of a fee accrual.">

    accruingFeeTypeId AccrualTypeId (1..1) <"A unique id associated with a facility accrual type.">
    accruingFeeType fpml.consolidated.fpmlenum.LoanTradingAccruingFeeTypeEnum (0..1) <"Describes the type of the accruing fee.">
    facilityReference FacilityReference (1..1)

type LoanTradingCostOfCarry: <"A structure that incorporates elements of an accrual calculation, for the purpose of defining cost-of-carry.">

    amount fpml.consolidated.shared.NonNegativeMoney (1..1) <"The amount of cost of carry accrued for the given loan contract. Funded Amount * Price + (100-Price) * Unfunded - (100-Price) * Paydown - Non-Recurring Fees.">
    simplePayerReceiverModel SimplePayerReceiverModel (0..1)
    accrual LoanTradingCostOfCarryAccrual (0..1) <"Details of the accrual schedule in support of the cost of carry amount: The commencement amount is the calculated \'value\' of the asset being purchased/sold, as of the end of the REGULAR settlement period (e.g. at T+7 for Par). This amount takes into account ALL potential adjustments, price and utilized/unutilized balances as of the regular settlement date. Hence, the reference amount will be the commencement amount and the rate will be the average LIBOR (between T+7 and actual settlement date). If however, the settlement amount at the END of the delay period has changed by more than 25 percent as compared to the commencement amount, then the (calculated) settlement amount for each applicable day within the delay period must be calculated and used to accrue the cost of carry. The average LIBOR will still be the applicable rate.">

type LoanTradingCostOfCarryAccrual: <"A schedule that incorporates all sub-periods of an accrual calculation for the purposes of determining the cost of carry in the case of a trade with delayed settlement.">

    utilizationPeriod UtilizationPeriod (1..*) <"The funded and unfunded utilization details. These figures together with the commitment adjustment and non-recurring fees would be used to calculate the trade amount on a daily basis. If using the commencement amount, as of regular settlement date, then it is only necessary to define the utilization as of that single date. If using the settlement amount calculation (for each day through the settlement period), then it will be necessary to provide a schedule of utilized/unutilized balances throught the entire period.">
    commencementAccrual AccrualPeriod (0..1) <"The accrual associated with a simple commencement amount based calculation.">
    settlementPeriodAccrual AccrualPeriod (0..*) <"An array of accrual periods which define a single accrual schedule.">

type LoanTradingCounterpartySettlementFundingFactors: <"A structure that defines the factors that impact settlement cashflows.">

    loanTradingCounterpartySettlementFundingFactorsSequence LoanTradingCounterpartySettlementFundingFactorsSequence (0..1)
    transferFeeAmounts BuyerSellerAmounts (1..1) <"Counterparty shares of the transfer fee owed to the agent.">

type LoanTradingCounterpartySettlementFundingFactorsSequence:

    delayedCompensation LoanTradingDelayedCompensation (1..1)
    costOfCarry LoanTradingCostOfCarry (1..1)
    economicBenefit LoanTradingEconomicBenefit (0..*) <"The total economic benefit, based on facility-level activity between trade and settlement date, payable to the buyer of the asset.">

type LoanTradingDelayedCompensation: <"A structure that incorporates elements of interest and fee accruals, for the purpose of defining delayed compensation.">

    amount fpml.consolidated.shared.NonNegativeMoney (1..1) <"The total delayed compensation amount. This is the sum of all the loan contract, letter of credit and on-going fee accrual amounts.">
    simplePayerReceiverModel SimplePayerReceiverModel (0..1)
    loanTradingSettlementAccrualsModel LoanTradingSettlementAccrualsModel (1..1)
    nonAccruingFee LoanTradingNonAccruingFee (0..*) <"Details the amount of nonaccruing fees associated with the traded portion of a facility commitment, loan contract, or letter of credit.">

type LoanTradingEconomicBenefit: <"A structure that combines a simple (money) amount with an optional event, for the purpose of defining economic benefit at settlement.">

    amount fpml.consolidated.shared.NonNegativeMoney (1..1) <"Economic benefit amount.">
    simplePayerReceiverModel SimplePayerReceiverModel (0..1)
    eventIdentifier fpml.consolidated.business.events.BusinessEventIdentifier (0..1)
    commitmentAdjustment CommitmentAdjustment (0..1) <"Any commitment adjustments which have occurred during settlement of the trade. Represented by the business event structure.">

type LoanTradingLetterOfCreditAccrual extends AbstractTradingAccrual: <"A structure that incorporates sub-periods of an accrual calculation for a traded letter of credit.">

    lcFeeTypeId LcFeeTypeId (1..1) <"A unique id associated with the letter of credit fee type.">
    lcFeeType fpml.consolidated.fpmlenum.LoanTradingLetterOfCreditFeeTypeEnum (0..1) <"Describes the type of the letter of credit fee.">
    letterOfCreditReference LetterOfCreditReference (1..1) <"A unique identifier for the letter of credit.">

type LoanTradingLoanContractAccrual extends AbstractTradingAccrual: <"A structure that incorporates sub-periods of an accrual calculation for a traded outstanding contract.">

    loanContractReference LoanContractReference (1..1) <"A unique id for the loan contract.">

type LoanTradingNonAccruingFee: <"A structure that details the underlying elements that affect the calculation of a nonaccruing fee.">

    amount fpml.consolidated.shared.NonNegativeMoney (1..1) <"The total accrual amount.">
    nonAccruingFeeTypeId NonAccruingFeeTypeId (1..1) <"A unique id associated with the facility nonaccruing fee type.">
    nonAccruingFeetype fpml.consolidated.fpmlenum.LoanTradingNonAccruingFeeTypeEnum (0..1) <"Describes the type of the accruing fee.">
    miscFeeType MiscFeeType (0..1) <"Miscellaneous nonrecurring fee type.">
    facilityReference FacilityReference (0..1)
    loanContractReference LoanContractReference (0..1) <"A unique id for the loan contract.">
    letterOfCreditReference LetterOfCreditReference (0..1) <"A unique identifier for the letter of credit.">

type LoanTradingPartyRole: <"A type that describes a role played by a party in a trading transaction. Examples include roles such as guarantor, custodian, confirmation service provider, etc. This can be extended to provide custom roles.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    tradingPartyRoleScheme fpml.consolidated.shared.NonEmptyURI (0..1)

type LoanTradePayment extends LoanSimplePayment: <"A structure that represents a payment related to a loan trade (loan trade level).">

    tradeReference LoanTradeReference (1..1) <"Reference to the loan trade.">
    receiverSettlementInstruction fpml.consolidated.shared.SettlementInstruction (0..1) <"This structure can be utilized as an override to previously-communicated settlement instructions (via the LoanPartyProfileNotification).">

type LoanTransferFee: <"A structure that represents counterparty shares or alternatively the total amount of the assignment fee owed to the admin agent.">

    loanTransferFeeSequence LoanTransferFeeSequence (0..1)
    transferFeeAmounts BuyerSellerAmounts (0..1) <"Counterparty shares of the transfer fee owed to the agent.">

type LoanTransferFeeSequence:

    paidBy fpml.consolidated.fpmlenum.LoanTransferFeePaidByEnum (1..1) <"Rule enumeration for transfer fee split and paid by.">
    totalAmount fpml.consolidated.shared.NonNegativeMoney (0..1) <"The amount payable to the agent for re-assigning a share in one of the underlying facilities within the deal.">

type MetricAdjustmentType: <"A structure used to uniquely identify a metric adjustment type, described by a scheme.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    metricAdjustmentTypeScheme fpml.consolidated.shared.NonEmptyURI (0..1)

type MiscFeeType: <"A list of all miscellaneous (one-off) fee types.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    miscFeeTypeScheme fpml.consolidated.shared.NonEmptyURI (0..1)

type MoneyWithParticipantShare extends fpml.consolidated.shared.Money: <"An extension of the money type with the ability to specify a lender share amount in addition to the global amount (represented by \'amount\').">

    shareAmount number (0..1) <"The lender share amount.">

type MultiCurrency: <"A struture that defines all the currencies in which funds can be drawn against a facility.">

    drawCurrency fpml.consolidated.shared.Currency (2..*) <"List of currencies in which the borrower(s) may draw funds.">

type NonAccruingFeeTypeId: <"A structure used to uniquely identify a single non-accruing facility fee type within a syndicated loan structure.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    nonAccruingFeeTypeIdScheme fpml.consolidated.shared.NonEmptyURI (1..1)

type OutstandingContractsStatementChoice:

    loanContract LoanContract (0..1) <"A collection of loan contracts.">
    letterOfCredit LetterOfCredit (0..1) <"A collection of letter of credits.">

type OutstandingsPosition: <"A structure that represents outstanding loan contracts or outstanding letter of credit position. Both the global and lender position (current and prior) levels can be represented.">

    loanContractReference LoanContractReference (0..1)
    letterOfCreditReference LetterOfCreditReference (0..1)
    amount MoneyWithParticipantShare (1..1) <"The global and share amounts against the associated instrument. This is after any referenced business events have taken place.">
    priorAmount MoneyWithParticipantShare (0..1) <"The global and share amounts against the associated instrument. This is prior to any referenced business events.">
    facilityFxRate FxTerms (0..1) <"Defines a single (current) FX rate used to calculate utilization in the facility currency. Used in the case where the loan contract currency is different to the facility currency.">

type ParentEventIdentifier extends fpml.consolidated.business.events.BusinessEventIdentifier: <"Astructure used to relate child events to one another.">

    childEventIdentifier fpml.consolidated.business.events.BusinessEventIdentifier (2..*) <"An optional array to express the unique identifiers of all underlying related child events.">

type ParentTaskIdentifier extends TaskIdentifier: <"A structure used to relate child tasks to one another.">

    childTaskIdentifier TaskIdentifier (2..*) <"An optional array to express the unique identifiers of all underlying related child tasks.">

type PartyApprovalVote: <"A structure to describe a party\'s approval vote.">

    votePartyReference fpml.consolidated.shared.PartyReference (1..1) <"Reference to the party providing its approval.">
    voteQuantity VoteQuantity (0..1) <"The party\'s approval vote expressed as a number of votes, a percent of the total vote, or an amount (e.g. loan commitment amount).">
    vote ApprovalVoteDecision (1..1) <"The vote decision of the party.">
    voteDate zonedDateTime (1..1) <"The date on which the party provided their vote.">

type PartyProfile extends AbstractPartyProfile: <"A type that describes a party profile record.">

    partyProfileChoice PartyProfileChoice (1..*)

type PartyProfileChoice:

    communicationDetails ApplicableCommunicationDetails (0..1) <"Relates an asset, or assets, to an element within a party block (customarily a business unit or person).">
    settlementInstructionDetails ApplicableSettlementInstructionDetails (0..1) <"Relates an asset, or assets, to set of settlement instructions.">

type PartyProfileDocumentation: <"A structure that defines documentation related to a party profile.">

    taxForm TaxForm (0..1) <"Type of tax form registered.">

type PartyProfileId: <"A structure that defines a party profile identifier based on a qualifying scheme.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    partyProfileIdScheme string (1..1)
    id string (0..1)

type PartyProfileIdentifier: <"A type that identifies a party profile record.">

    partyReference fpml.consolidated.shared.PartyReference (1..1) <"Reference to a party.">
    partyProfileId PartyProfileId (1..1)
    id string (0..1)

type PaymentProjection: <"A structure that represents interest payment projections.">

    nextPaymentDate zonedDateTime (1..1) <"The next payment for the associated event type is due on this date. This is an actual (adjusted) date.">
    projectedAmount MoneyWithParticipantShare (0..1) <"Projected amount payable on the next payment date.">

type PeriodRate: <"A structure that represents a rate applicable against a well-defined or open-ended period.">

    periodOptionalEndModel PeriodOptionalEndModel (1..1)
    rate number (1..1)

type ProRataFacilities: <"A structure that defines a restriction pertaining to which facilities must be traded on a pro-rata basis.">

    facilityReference FacilityReference (2..*)

type RateLimits: <"A structure that defines the limits associated with rates that can be applied to a loan instrument.">

    floorRate PeriodRate (0..1) <"The rate floor being applied.">
    capRate PeriodRate (0..1) <"The rate cap being applied.">

type SettlementDetails: <"A set of currency-specific settlement instructions.">

    id SettlementInstructionId (1..1) <"A unique identifier for a cash settlement details structure.">
    currency fpml.consolidated.shared.Currency (1..1) <"Currency associated with the settlement instruction.">
    settlementInstruction fpml.consolidated.shared.SettlementInstruction (1..1) <"A standard settlement instruction defining how a currency payment is to be made.">

type SettlementInstructionId: <"A type defining a cash settlement details identifier and qualifying scheme">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    settlementInstructionIdScheme string (1..1)
    id string (0..1)

type RateAdjustment: <"A structure that represents adjustments to the base rate.">

    margin number (1..1) <"The adjustment to the base rate related to the credit risk of the issuer or borrower. Commonly referred to as the \"rate margin\" or \"margin.\"">
    pikSpread number (0..1)

type TaskDates: <"A structure that details key dates related to a task.">

    raisedDate zonedDateTime (1..1) <"The date on which the task was raised.">
    expectedDate zonedDateTime (0..1) <"The date by which the task is expected to be completed.">
    clearedDate zonedDateTime (0..1) <"The date on which the task was either cleared or cancelled.">

type TaskId: <"A structure that defines a task identifier based on a qualifying scheme.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    taskIdScheme string (1..1)
    id string (0..1)

type TaskIdentifier: <"A type defining a task identifier issued by the indicated party.">

    partyReference fpml.consolidated.shared.PartyReference (1..1) <"Reference to a party.">
    taskId TaskId (0..1) <"Identification of the task.">
    versionedTaskId VersionedTaskId (0..1)
    id string (0..1)

type TaxForm: <"A structure that defines a tax form registration.">

    taxFormType TaxFormType (1..1) <"Type of tax form registered.">
    taxFormExpiryDate zonedDateTime (0..1) <"Date of expiration of this tax form.">

type TaxFormType: <"A scheme that describes tax form types.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    taxFormTypeScheme fpml.consolidated.shared.NonEmptyURI (0..1)

type TaxWithholding: <"A structure that represents the withholding tax being applied to a particular cash flow.">

    amount fpml.consolidated.shared.NonNegativeMoney (1..1) <"The amount of withholding tax being applied.">
    taxRate fpml.consolidated.shared.NonNegativeDecimal (0..1) <"The tax rate being applied to the associated cash flow.">
    reason WithholdingTaxReason (0..1) <"A scheme used to identify the reason for withholding tax being applied to a cash flow.">

type TransferFeeDefinition: <"A structure that represents the rules for payment of transfer fees to the agent.">

    amount fpml.consolidated.shared.NonNegativeMoney (1..1) <"The amount payable to the agent for re-assigning a share in one of the underlying facilities within the deal.">
    transferFeeDefinitionChoice TransferFeeDefinitionChoice (0..*)
    lenderTypeWaived LenderClassification (0..*) <"The list of lender types which are exempt from paying an transfer fee to the agent bank.">

type TransferFeeDefinitionChoice:

    paymentRule fpml.consolidated.fpmlenum.LoanTransferFeePaidByEnum (0..1) <"A rule which defines by whom (and how) the transfer fee is to be paid.">
    description fpml.consolidated.shared.NonEmptyNormalizedString (0..1) <"An optional free form text feel to describe the transfer fee payment rule, as necessary.">

type UtilizationAmounts: <"A structure which defines the total utilization and available credit levels for a given facility.">

    fundedAmount fpml.consolidated.shared.NonNegativeDecimal (1..1) <"The amount of utilization which is funded.">
    unfundedAmount fpml.consolidated.shared.NonNegativeDecimal (1..1) <"The amount of utilization which is unfunded.">

type UtilizationPeriod: <"A schedule that incorporates all sub-periods of an interest accrual calculation.">

    periodWithDaysModel PeriodWithDaysModel (1..1)
    utilizationAmounts UtilizationAmounts (1..1) <"The funded and unfunded utilization details.">

type VersionedCovenantObligationId: <"Covenant Obligation ID with Version Support">

    covenantObligationId CovenantObligationId (1..1)
    versionHistoryModel fpml.consolidated.shared.VersionHistoryModel (1..1)

type VersionedLegalActionId: <"Legal Action ID with Version Support">

    legalActionId LegalActionId (1..1)
    versionHistoryModel fpml.consolidated.shared.VersionHistoryModel (1..1)

type VersionedTaskId: <"Task ID with Version Support">

    taskId TaskId (1..1)
    versionHistoryModel fpml.consolidated.shared.VersionHistoryModel (1..1)

type VoteQuantity: <"A structure to describe a vote quantity as a percent and optionally as a commitment amount.">

    voteQuantityChoice VoteQuantityChoice (1..*)

type VoteQuantityChoice:

    voteCount int (0..1) <"A structure to describe a vote quantity as a number (non-negative integer) of votes.">
    votePercent fpml.consolidated.shared.NonNegativeDecimal (0..1) <"A structure to describe a vote quantity as a percent to total votes possible.">
    voteAmount fpml.consolidated.shared.NonNegativeMoney (0..1) <"An optional structure to describe a vote quantity as an amount in a currency (e.g. in the loan market, as a lender\'s commitment amount).">

type WithholdingTaxReason: <"A list of reasons for withholding tax being applied to a cash flow.">

    value fpml.consolidated.shared.NonEmptyScheme (1..1)
    withholdingTaxReasonScheme fpml.consolidated.shared.NonEmptyURI (0..1)

type BusinessEventPartiesModel: <"A model that represents the main parties involved in any business event.">

    agentPartyReference fpml.consolidated.shared.PartyReference (0..1) <"A reference to the agent bank for the associated deal.">
    borrowerPartyReference fpml.consolidated.shared.PartyReference (0..1) <"A reference to the main borrower associated with the specific business event.">

type CovenantObligationDetailsModel: <"A model used to reference a covenant by either identifier or summary, within various notifications.">

    covenantIdentifier CovenantObligationIdentifier (0..1) <"A deal identifier structure.">
    covenantSummary LoanCovenantObligationSummary (0..1)
    covenant LoanCovenantObligation (0..1)

type CurrentPriorCommitmentModel: <"A model that represents current and prior global commitment break-down. The model requires global amounts and can optionally represent lender-specific share amounts.">

    commitment FacilityCommitment (1..1) <"The global and share amount of principal commitment. This is after any referenced business events have taken place.">
    priorCommitment FacilityCommitment (0..1) <"The global and share amount of principal commitment. This is prior to any referenced business events.">

type DealDetailsModel: <"A model used to reference a deal by either identifier or summary, within various notifications.">

    dealIdentifier DealIdentifier (0..1) <"A deal identifier structure.">
    dealSummary DealSummary (0..1) <"A deal summary structure.">

type DealRolesModel: <"A model that defines all parties playing various roles within a given deal.">

    issuerPartyReference fpml.consolidated.shared.PartyReference (1..1) <"A party reference to the (main) issuer of the deal.">
    guarantorPartyReference fpml.consolidated.shared.PartyReference (0..*) <"Party references to the guarantors associated with the (main) issuer of the deal.">
    agentPartyReference fpml.consolidated.shared.PartyReference (1..1) <"A party reference to the agent bank associated with the deal.">
    dealRolesModelSequence DealRolesModelSequence (0..1)

type DealRolesModelSequence:

    syndicationLeadPartyReference fpml.consolidated.shared.PartyReference (1..1) <"A party reference to the lead syndication bank of the deal.">
    syndicationCoLeadPartyReference fpml.consolidated.shared.PartyReference (0..*) <"Party references to the syndication co-lead banks of the deal.">

type DealRulesModel: <"A model that defines deal-level rules.">

    transferFee TransferFeeDefinition (0..1) <"The transfer fee amount and rules. This applies to the commitment transfer of any facility within the deal structure.">
    proRataFacilities ProRataFacilities (0..*) <"Groups of facilities which must be traded on a pro-rata basis. The ratio of facility trade amounts must be equal to the ratio of their corresponding global amounts.">

type FacilityCommitmentModel: <"A model that describes facility commitment information together with any schedule associated with the commitment.">

    currentCommitment FacilityCommitment (1..1) <"The current global/lender share commitment amount. This defines the current limit against which the borrower may draw funds.">
    originalCommitment MoneyWithParticipantShare (0..1) <"The original global commitment amount. This defines the limit, as of the start date, against which the borrower may draw funds.">
    commitmentSchedule CommitmentSchedule (0..1) <"The commitment schedule associated with the facility.">
    dealFxRate FxTerms (0..1) <"Defines the exchange rate between the facility and deal denomination currencies (only required if the currencies are different).">

type FacilityDatesModel: <"A model that defines all relevant dates related to a specific facility.">

    startDate zonedDateTime (1..1) <"The start date of the facility.">
    expiryDate zonedDateTime (0..1) <"The latest date that a drawdown can be made effective against the facility.">
    maturityDate zonedDateTime (0..1) <"The maturity date of the facility.">

type FacilityDetailsModel: <"A model used to reference a facility by either identifier or summary, within various notifications.">

    facilityIdentifier FacilityIdentifier (0..1) <"A facility identifier structure.">
    facilitySummary FacilitySummary (0..1) <"A facility summary structure.">

type FacilityFeaturesModel: <"A model that describes features/attributes associated with a given facility.">

    feature FacilityFeature (0..*) <"Facility features which help define the instrument with greater granularity. E.g. bridge, acquisition etc.">
    lien fpml.consolidated.asset.Lien (0..1) <"The lien level associated with the facility. E.g. 1st, 2nd, 3rd.">
    seniority fpml.consolidated.shared.CreditSeniority (0..1) <"The seniority of the facility. E.g. senior, senior secured etc.">

type FacilityOptionsFeesAndRatesModel: <"A model that describes additional (non-static) facility rate details. These are managed separate since they can change independently during the life of the facility.">

    facilityOptionsFeesAndRatesModelChoice FacilityOptionsFeesAndRatesModelChoice (1..*)
    accruingPikOption AccruingPikOption (0..1) <"A loan contract PIK accrual option.">
    accruingFeeOption AccruingFeeOption (0..*) <"A description of all the different types of accruing fees which apply to the facility.">
    facilityRatesModel FacilityRatesModel (1..1)

type FacilityOptionsFeesAndRatesModelChoice:

    fixedRateOption FixedRateOption (0..1) <"A structure that represents the accruing fixed rate option associated within a facility.">
    floatingRateOption LoanFloatingRateOption (0..1) <"A structure that represents the accruing floating rate option associated within a facility.">
    legacyFloatingRateOption LegacyFloatingRateOption (0..1) <"A structure that represents the legacy version (pre-IBOR replacement) of an accruing floating rate option associated within a facility.">
    lcOption LcOption (0..1) <"A description of all the letter of credit fee types which apply to the facility.">

type FacilityRatesModel: <"A model that describes various facility rate details.">

    defaultRate PeriodRate (0..1) <"This represents a default rate that may apply in addition to a regular margin rate (on outstanding loan contracts). This rate is applied at the discretion of the agent bank, if the borrower is deemed to be in default.">
    mandatoryCostRate PeriodRate (0..1) <"The mandatory cost rate currently applied to the interest rate period.">
    penaltyRate PeriodRate (0..1) <"This represents a penalty rate that may apply in addition to the regular margin rate (on outstanding loan contracts). This rate is applied at the discretion of the agent bank, if the borrower has broken terms stated within the credit agreement.">

type FacilityRolesModel: <"A model that describes the various roles played by parties within a given facility.">

    borrowerPartyReference fpml.consolidated.shared.PartyReference (1..1) <"A party reference to the (main) borrower. This may be different to the issuer defined at the deal-level.">
    coBorrowerPartyReference fpml.consolidated.shared.PartyReference (0..*) <"Party references to co-borrowers as listed on the credit agreement.">
    agentPartyReference fpml.consolidated.shared.PartyReference (0..1) <"A party reference to the agent bank. Each facility (within a single deal) can have specific/different agent banks, especially if there are jurisdictional boundaries being crossed.">
    lcIssuingBankPartyReference fpml.consolidated.shared.PartyReference (0..*) <"Party references to any guarantors associated with the facility borrower.">
    guarantorPartyReference fpml.consolidated.shared.PartyReference (0..*) <"Party references to any guarantors associated with the facility borrower.">

type LegacyFloatingRateIndexLoanModel: <"A model which captures the index and tenor associated with the floating rate. We are referring to a loan-specific floating rate scheme.">

    legacyFloatingRateIndex LegacyFloatingRateIndexLoan (1..1)
    indexTenor fpml.consolidated.shared.Period (0..1) <"The ISDA Designated Maturity, i.e. the tenor of the floating rate.">

type LenderAndCashDetailsModel: <"A model that describes lender and cash flow details (relative to the lender), represented within a business event.">

    lenderPartyReference fpml.consolidated.shared.PartyReference (1..1) <"A reference to the lender associated with a specific business event.">
    cashPayable CashPayable (0..1) <"Defines the overall net cash payable, as well as, the breakdown of individual cashflows.">

type LetterOfCreditDetailsModel: <"A model used to reference an L/C by either identifier, summary or full L/C details, within various notifications.">

    letterOfCreditIdentifier LoanContractIdentifier (0..1) <"A letter of credit identifier structure.">
    letterOfCreditSummary LetterOfCreditSummary (0..1) <"A letter of credit summary structure.">
    letterOfCredit LetterOfCredit (0..1) <"A full letter of credit structure.">

type LetterOfCreditFeaturesModel: <"A model that describes the additional features associated with a letter of credit.">

    evergreenOption EvergreenOption (0..1) <"An option allowing the borrower to extend the letter of credit tenor.">
    lcAutoAdjust fpml.consolidated.fpmlenum.LcAutoAdjustEnum (0..1) <"Defines the manner by which a letter of credit may automatically adjust.">
    minLcIssuanceFeeAmount MoneyWithParticipantShare (0..1) <"The letter of credit notional amount. The amount is represented at the global and (optionally) atthe lender-specific level.">

type LetterOfCreditRolesModel: <"A model that describes the various roles played by parties within a given letter of credit.">

    borrowerPartyReference fpml.consolidated.shared.PartyReference (1..1) <"Main borrower.">
    issuingBankPartyReference fpml.consolidated.shared.PartyReference (1..1) <"Party references to any letter of credit issuers associated with the facility borrower.">
    beneficiaryPartyReference fpml.consolidated.shared.PartyReference (0..1) <"A party reference of the beneficiary.">

type LoanAllocationPartiesModel: <"A model which contains the main parties involved in a loan allocation situation.">

    originalPartyReference fpml.consolidated.shared.PartyReference (1..1) <"A reference to the party responsible for the allocation.">
    allocatedPartyReference fpml.consolidated.shared.PartyReference (1..1) <"A reference to the party that has been allocated to.">

type LoanContractDetailsModel: <"A model used to reference a loan contract by either identifier, summary or full contract details, within various notifications.">

    contractIdentifier LoanContractIdentifier (0..1) <"A loan contract identifier structure.">
    contractSummary LoanContractSummary (0..1) <"A loan contract summary structure.">
    contract LoanContract (0..1) <"A full loan contract structure.">

type LoanIdentifiersModel: <"A model which contains the identifiers used by loan structures.">

    eventIdentifier fpml.consolidated.business.events.BusinessEventIdentifier (0..1)
    taskIdentifier TaskIdentifier (0..1)

type LoanTradeAllocationDetailsModel: <"A model used to reference a single loan trade together with all associated allocations.">

    loanTradeAllocationDetailsModelChoice LoanTradeAllocationDetailsModelChoice (1..*)
    tradeIdentifier fpml.consolidated.doc.TradeIdentifier (0..1) <"Unique trade ids used to identify the trade record.">
    tradeSummary LoanTradeSummary (0..1) <"A summary structure representing the loan trade.">

type LoanTradeAllocationDetailsModelChoice:

    allocationId LoanAllocationIdentifier (0..1) <"A party-specific allocation identifier.">
    allocationSummary LoanAllocationSummary (0..1) <"A summary structure representing the loan trade allocation.">
    allocation LoanAllocationType (0..1) <"A structure defining information related to a loan trade allocation.">

type LoanTradingCounterpartyCashSettlementRulesModel: <"A model which contains the master trade settlement terms.">

    documentationType fpml.consolidated.fpmlenum.LoanTradingDocTypeEnum (1..1) <"Defines whether the loan trade is being settled under par or distressed documentation.">
    accrualSettlementType fpml.consolidated.fpmlenum.LoanTradingAccrualSettlementEnum (1..1) <"Defines the way in which interest (and accruing fees) will be handled between the buyer and seller of the loan.">
    delayedCompensationFlag boolean (1..1) <"Defines whether delayed compensation is due at settlement of the loan trade.">
    otherFeesBenefactor fpml.consolidated.fpmlenum.BuySellEnum (1..1) <"Defines the benefit of all amendment fees, consent, waiver, and other one-off fees occurring between trade date and settlement date.">

type LoanTradeDetailsModel: <"A model used to reference a single loan trade.">

    tradeIdentifier fpml.consolidated.doc.TradeIdentifier (0..1) <"Unique trade ids used to identify the trade record.">
    tradeSummary LoanTradeSummary (0..1) <"A structure that defines all loan trade information i.e. this structure contains the main (e.g. fund manager/main counterparty) trade details.">
    trade LoanTradeType (0..1) <"A structure that defines party-to-party loan trade information. This structure contains the main (e.g. fund manager/main counterparty) trade details.">

type LoanTradingParticipationSettlementTermsModel: <"A model which contains trade settlement terms for participations.">

    collateralRequiredFlag boolean (1..1) <"Identifies whether the buyer is to supply collateral in the case the trade involves a revolver and the trade settles as a participation.">
    votingRights fpml.consolidated.fpmlenum.LoanTradingVotingRightsEnum (1..1) <"Identifies whether the buyer is to receive voting rights or be retained by the seller.">

type LoanTradingSettlementAccrualsModel: <"A model which contains all relevant amounts to settle a loan trade with accrued interest and fees.">

    facilityAccrual LoanTradingFacilityFeeAccrual (0..*) <"Details of the amount of facility fees accrued by the traded portion of a facility commitment.">
    loanContractInterestAccrual LoanTradingLoanContractAccrual (0..*) <"Details of the amount of loan contract interest accrued by the traded portion of a loan contract.">
    letterOfCreditAccrual LoanTradingLetterOfCreditAccrual (0..*) <"Details of the amount of letter of credit fees accrued by the traded portion of a letter of credit.">

type LoanTradingSettlementTermsModel: <"A model which contains settlement terms of a trade.">

    tradingAssociation fpml.consolidated.fpmlenum.LoanTradingAssocEnum (1..1) <"Defines the trading association under which the loan trade documentation is governed.">
    formOfPurchase fpml.consolidated.fpmlenum.LoanTradingFormOfPurchaseEnum (1..1) <"Defines whether the trade is being settled by assignment or participation (i.e. sub-participation).">

type LoanTradingTransferFeeDeterminationModel: <"A model which contains factors associated with the payment of a transfer fee.">

    waivedFlag boolean (1..1) <"A flag defining whether the transfer fee is to be waived for this allocation.">
    creditAgreementAmount fpml.consolidated.shared.NonNegativeMoney (1..1) <"Amount of transfer fee owed to the admin agent for the allocation, per the credit agreement.">
    agentAmount fpml.consolidated.shared.NonNegativeMoney (1..1) <"Amount of transfer fee owed to the admin agent for the allocation, as determined by the agent.">

type PeriodOptionalEndModel: <"A model that describes a period, with an optional end date.">

    startDate zonedDateTime (1..1) <"Date on which this period begins.">
    endDate zonedDateTime (0..1) <"Date on which this period ends.">

type PeriodWithDaysModel: <"A model that describes a period, with an element to define number of days within the period.">

    periodModel fpml.consolidated.shared.PeriodModel (1..1)
    numberOfDays int (1..1) <"The actual number of days represented within the \'period\'. This takes into account counting the appropriate convention.">

type RepaymentTypeModel: <"A model that establishes the flags that determine the type of repayment that is occurring and the flexibility asociated with it (from the lender\'s perspective).">

    refusalAllowed boolean (1..1) <"Defines whether the lender has an option to accept or deny the payment.">
    borrowerMandatory boolean (0..1) <"Defines whether the repayment is mandatory from the borrower\'s perspective, based on the (amortization) schedule on the credit agreement.">
    scheduledRepayment boolean (0..1) <"Defines whether the repayment is a scheduled repayment. This is normally the case when the repayment is defined on the amortization schedule associated with the facility (on the credit agreement).">

type SimplePayerReceiverModel: <"A model which references the payer and receiver.">

    payerPartyReference fpml.consolidated.shared.PartyReference (1..1) <"A reference to the party responsible for the allocation.">
    receiverPartyReference fpml.consolidated.shared.PartyReference (1..1) <"A reference to the party that has been allocated to.">

type SimpleBuyerSellerModel: <"A model which references the buyer and seller.">

    buyerPartyReference fpml.consolidated.shared.PartyReference (1..1) <"A reference to the party that buys this instrument, ie. pays for this instrument and receives the rights defined by it. See 2000 ISDA definitions Article 11.1 (b). In the case of FRAs this the fixed rate payer.">
    sellerPartyReference fpml.consolidated.shared.PartyReference (1..1) <"A reference to the party that sells (\"writes\") this instrument, i.e. that grants the rights defined by this instrument and in return receives a payment for it. See 2000 ISDA definitions Article 11.1 (a). In the case of FRAs this is the floating rate payer.">

type UtilizationModel: <"A model that describes the breakdown of the utilization profile against a single facility.">

    utilizationModelSequence0 UtilizationModelSequence0 (0..1)
    utilizationModelSequence1 UtilizationModelSequence1 (0..1)

type UtilizationModelSequence0:

    requiredFundedAmount MoneyWithParticipantShare (1..1) <"The amount of utilization which is funded.">
    unfundedAmount MoneyWithParticipantShare (0..1) <"The amount of utilization which is unfunded.">

type UtilizationModelSequence1:

    requiredUnfundedAmount MoneyWithParticipantShare (1..1) <"The amount of utilization which is unfunded.">
    fundedAmount MoneyWithParticipantShare (0..1) <"The amount of utilization which is funded.">
